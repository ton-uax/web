{"version":3,"sources":["components/Wallet/Wallet.module.css","components/Aside/Aside.module.css","components/Owner/Vote.module.css","components/Owner/ProposeForms.module.css","App.module.css","components/Loader/Loader.module.css","components/AdminBtn/AdminBtn.module.css","components/Header/Header.module.css","img/logo.svg","components/Header/Header.js","uax/index.js","uax/context.js","uax/hooks.js","components/Dev/Dev.js","components/Loader/Loader.js","components/Wallet/Wallet.js","components/Demo/Demo.js","components/Owner/Propose.js","components/Owner/Vote.js","components/Owner/index.js","uax/proposal.js","components/Demo1/Demo1.js","components/Aside/Aside.js","App.js","index.js"],"names":["module","exports","Header","_jsxs","className","s","main","children","_jsx","logo","Link","to","title","logoImage","src","alt","width","menu","NavLink","link","activeClassName","active","readGetter","_x","_x2","_readGetter","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee3","contract","name","params","_args3","wrap","_context3","prev","next","length","undefined","runLocal","abrupt","sent","decoded","output","stop","readPublic","_x3","_x4","_readPublic","_callee4","_context4","t0","wrapContract","ton","address","abi","keys","Account","client","signer","signerKeys","_getStats","_callee5","root","medium","statsResponse","supplyResponse","rootBalance","totalSupply","_context5","getTONBalance","Object","values","reduce","a","b","Number","wallets","transfers","transferFee","supply","supplyBreakdown","claimedFee","totalFeeClaimed","accruedFee","tons","toString","getUAXBalance","_ref","_callee","balance","_context","_x7","_ref2","_callee2","hexBalance","_context2","getBalance","parseInt","Math","pow","toFixed","_x8","uax","getStats","_x5","_x6","U1","ENV","users","addr","U2","ROOT","contracts","Root","MEDIUM","Medium","UAXABI","RootABI","MediumABI","TokenWallet","TokenWalletABI","OwnerWallet","OwnerWalletABI","libWebSetup","binaryURL","process","ton_","useBinaryLibrary","libWeb","NETWORKS","TONUAXContext","createContext","TONUAXContextProvider","props","network","server_address","UAXSystem","UAXOwners","useAsync","owKeys","owners","_i","_Object$entries","_Object$entries$_i","idx","keypair","ownerAddr","ownerTWAddr","wallet","entries","_slicedToArray","UAXSystemMap","_objectSpread","fromEntries","map","_ref3","_ref4","o","i","concat","Provider","value","UAXOwner","twAddr","loading","_i2","_Object$values","owner","UAXUser","ukeys","useUAXSystem","useContext","useUser","user","useEffect","free","Dev","UAX","SystemMap","_useMap","useMap","_useMap2","messages","_useMap2$","set","reset","onKeyDown","useCallback","key","useEvent","state","useAsyncRetry","e","proposals","proposal","id","renderObj","_ref5","_ref6","k","v","Array","includes","JSON","stringify","useInterval","retry","subscribeMessages","msg","srcName","dstName","decodeMessage","boc","slice","dst","t","Date","created_at","toLocaleTimeString","floor","getTime","_Fragment","_ref7","_ref8","_ref9","_ref10","Loader","color","_ref$width","loader","style","fontSize","WalletAddress","_useCopyToClipboard","useCopyToClipboard","copyToClipboard","yadd","onClick","Wallet","label","account","_useState","useState","_useState2","uaxBalance","setUAXBalance","_useState3","_useState4","tonBalance","setTONBalance","then","refresh","console","log","now","toLocaleString","toInput","useRef","valueInput","_useAsyncFn","useAsyncFn","val","tx","preventDefault","current","match","isInteger","run","error","_useAsyncFn2","sendResult","send","addressShort","loadingBtn","buttonLoading","sendBtn","button","spacer","info","block","input","type","placeholder","ref","Demo","u1","u2","PositiveIntValueForm","method","argName","_ref$otherArgs","otherArgs","_ref$inputHint","inputHint","_ref$buttonCaption","buttonCaption","_defineProperty","proposeBtn","Propose","votingFormsParams","formProps","mint","eType","burn","lock","pull","updfee","harvest","proposeEventForm","eTypeStr","twoforms","getTimeLeftString","d","days","hours","padStart","minutes","seconds","Vote","ownerAlreadyVoted","expire","timeLeft","setTimeLeft","time","setTime","_useState5","_useState6","resolution","setResolution","_useState7","_useState8","disableVoting","setDisableVoting","interval","setInterval","clearInterval","authorAlias","author","btnApproveClassName","buttonvoted","btnRejectClassName","resolve","_resolve","positive","res","message","hasSigs","reqSigs","buttondisabled","Owner","pendingStateID","eventTypes","lastProposalOnApproval","_lastProposalOnApproval","ownersVoted","_owners","mask","parsedProposal","signsMask","push","created","createdAt","expireAt","actor","signsAt","signsReq","Demo1","_proposal$value3","_proposal$value4","_useOwner","useOwner","_useOwner2","isMyProposal","alreadyVoted","showProposalPopup","updateProposal","_proposal$value","_proposal$value2","subscribe","eq","OR","m","useX","StatsRow","icon","child","classValue","valueLoading","statrow","childstatname","statname","unit","Aside","twTotal","owTotal","feeTotal","unallocated","stats","setStats","aside","App","wrapper","page","desk","Switch","Route","exact","path","ReactDOM","render","React","StrictMode","Router","document","getElementById"],"mappings":"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","file":"static/js/main.64a92c7f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"spacer\":\"Wallet_spacer__16JB9\",\"wallet\":\"Wallet_wallet__1Grsq\",\"info\":\"Wallet_info__YW5pO\",\"value\":\"Wallet_value__1ayvN\",\"yadd\":\"Wallet_yadd__yIG7m\",\"block\":\"Wallet_block__2TL5q\",\"input\":\"Wallet_input__eiXcK\",\"button\":\"Wallet_button__V7ThS\",\"buttonLoading\":\"Wallet_buttonLoading__24opq Wallet_button__V7ThS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"Aside_aside__1St8F\",\"stats\":\"Aside_stats__35-mK\",\"statrow\":\"Aside_statrow__3S5au\",\"statname\":\"Aside_statname__3cm0q\",\"childstatname\":\"Aside_childstatname__V39tL Aside_statname__3cm0q\",\"row\":\"Aside_row__up8dj\",\"unit\":\"Aside_unit__1S1A3\",\"value\":\"Aside_value__1aeVE\",\"valueLoading\":\"Aside_valueLoading__gVyV0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Vote_message__MfV2K\",\"button\":\"Vote_button__38l8p\",\"buttondisabled\":\"Vote_buttondisabled__140Kj\",\"buttonvoted\":\"Vote_buttonvoted__QCPv8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"twoforms\":\"ProposeForms_twoforms__2P-en\",\"block\":\"ProposeForms_block__1NwrZ\",\"input\":\"ProposeForms_input__2XHaP\",\"button\":\"ProposeForms_button__2IaXw\",\"buttonLoading\":\"ProposeForms_buttonLoading__1Bxgp ProposeForms_button__2IaXw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"App_wrapper__2Rh_f\",\"page\":\"App_page__CKP-2\",\"desk\":\"App_desk__2dGs9\",\"main\":\"App_main__3ZkGI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1j2Bs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"AdminBtn_button__1CAug\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Header_main__2r9vH\",\"logo\":\"Header_logo__3_SJs\",\"logoImage\":\"Header_logoImage__2KwYz\",\"title\":\"Header_title__3SH2Q\",\"menu\":\"Header_menu__BQHSW\",\"link\":\"Header_link__2wI74\",\"active\":\"Header_active__vmCnS Header_link__2wI74\",\"act\":\"Header_act__1iRYG\"};","export default __webpack_public_path__ + \"static/media/logo.240b99fe.svg\";","import s from './Header.module.css';\nimport logo from '../../img/logo.svg';\nimport { Link, NavLink } from 'react-router-dom';\n\nfunction Header() {\n\n  return (\n    <header className={s.main}>\n      <div className={s.logo}>\n        <h1>\n          <Link to=\"/\" className={s.title}>\n            <img className={s.logoImage} src={logo} alt=\"logo\" width=\"30px\" />\n            UAX\n          </Link>\n        </h1>\n      </div>\n      <div className={s.menu}>\n\n        <NavLink to=\"/user\" className={s.link} activeClassName={s.active}>\n          User-User\n        </NavLink>\n        <NavLink to=\"/owner/1\" className={s.link} activeClassName={s.active}>\n          Owner 1\n        </NavLink>\n        <NavLink to=\"/owner/2\" className={s.link} activeClassName={s.active}>\n          Owner 2\n        </NavLink>\n        <NavLink to=\"/owner/3\" className={s.link} activeClassName={s.active}>\n          Owner 3\n        </NavLink>\n        <NavLink to=\"/dev\" className={s.link} activeClassName={s.active}>\n          Don't touch\n        </NavLink>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import { Account } from '@tonclient/appkit';\nimport { signerKeys } from '@tonclient/core';\n\n\nexport async function readGetter(contract, name, params = {}) {\n  return (await contract.runLocal(name, params)).decoded.output\n}\n\nexport async function readPublic(contract, name) {\n  return (await contract.runLocal(name, {})).decoded.output[name]\n}\n\nexport function wrapContract(ton, address, abi, keys) {\n  return new Account(\n    { abi },\n    {\n      address, client: ton,\n      signer: keys ? signerKeys(keys) : null\n    }\n  )\n}\n\nexport async function getStats(root, medium) {\n  const statsResponse = await readGetter(medium, 'getStats')\n  const supplyResponse = await readGetter(medium, 'supplyImproved')\n  const rootBalance = await getTONBalance(root)\n  const totalSupply = Object.values(supplyResponse).reduce((a, b) => Number(a) + Number(b))\n  return {\n    wallets: statsResponse.wallets,\n    transfers: statsResponse.transfers,\n    transferFee: statsResponse.transferFee,\n\n    supply: totalSupply,\n    supplyBreakdown: supplyResponse,\n    claimedFee: statsResponse.totalFeeClaimed,\n\n    accruedFee: statsResponse.accruedFee,\n    tons: rootBalance.toString(),\n  }\n}\n\nexport const getUAXBalance = async contract => {\n  const balance = await readGetter(contract, 'getFinances')\n  return balance.balance\n}\n\nexport const getTONBalance = async contract => {\n  const hexBalance = (await contract.getBalance());\n  return +(parseInt(hexBalance, 16) / 10 ** 9).toFixed(2);\n}\n\n\nconst uax = { getStats, getUAXBalance, getTONBalance };\n\nexport default uax;\n\n","import { createContext } from 'react';\nimport { TonClient as ton_ } from '@tonclient/core';\nimport { libWeb, libWebSetup } from '@tonclient/lib-web';\n\nimport RootABI from './ton-abi/Root.abi.json'\nimport MediumABI from './ton-abi/Medium.abi.json'\nimport TokenWalletABI from './ton-abi/TokenWallet.abi.json'\nimport OwnerWalletABI from './ton-abi/OwnerWallet.abi.json'\nimport ENV from './Env.json'\n\nimport { wrapContract } from '.';\nimport { useAsync } from 'react-use';\n\n\nconst U1 = ENV.users[0].addr\nconst U2 = ENV.users[1].addr\n\nconst ROOT = ENV.contracts.Root\nconst MEDIUM = ENV.contracts.Medium\n\nconst UAXABI = {\n  Root: RootABI,\n  Medium: MediumABI,\n  TokenWallet: TokenWalletABI,\n  OwnerWallet: OwnerWalletABI\n}\n\nlibWebSetup({\n  binaryURL: process.env.PUBLIC_URL + \"/tonclient.wasm\",\n})\nton_.useBinaryLibrary(libWeb);\n\nconst NETWORKS = {\n  'main': 'https://mainnet.evercloud.dev/7a0c75a081cb45309f6fdee852819fdb',\n  'dev': 'https://net.ton.dev',\n  'se': 'http://localhost'\n}\n\nexport const TONUAXContext = createContext();\nexport const TONUAXContextProvider = props => {\n  const ton = new ton_({\n    network: {\n      server_address: NETWORKS[ENV.network]\n    }\n  })\n  const UAXSystem = {\n    Root: wrapContract(ton, ROOT, UAXABI.Root),\n    Medium: wrapContract(ton, MEDIUM, UAXABI.Medium)\n  }\n\n  const UAXOwners = useAsync(async () => {\n    let owKeys = {\n      1: ENV.owners[0].keys,\n      2: ENV.owners[1].keys,\n      3: ENV.owners[2].keys,\n    }\n    let owners = {}\n\n    for (let [idx, keypair] of Object.entries(owKeys)) {\n      let ownerAddr = ENV.owners[idx - 1].addr\n      let ownerTWAddr = ENV.owners[idx - 1].wallet\n      let contract = wrapContract(ton, ownerAddr, UAXABI.OwnerWallet, keypair)\n      let wallet = wrapContract(ton, ownerTWAddr, UAXABI.TokenWallet, keypair)\n      owners[idx] = { contract, wallet }\n    }\n    return owners\n  }, [])\n\n  function UAXUser(idx) {\n    let addr, ukeys;\n    if (idx == 1) {\n      addr = U1\n      ukeys = ENV.users[0].keys\n    }\n    else if (idx == 2) {\n      addr = U2\n      ukeys = ENV.users[0].keys\n    }\n    return wrapContract(ton, addr, UAXABI.TokenWallet, ukeys)\n  }\n\n  function UAXOwner({ idx, twAddr }) {\n    let owners = UAXOwners.value\n\n    if (UAXOwners.loading)\n      return\n    if (idx !== undefined)\n      return owners[idx]\n    if (twAddr !== undefined)\n      for (let owner of Object.values(owners)) {\n        if (owner.wallet.address === twAddr)\n          return owner\n      }\n  }\n\n  const UAXSystemMap = {\n    ...Object.fromEntries(Object.entries(ENV.contracts).map(([name, addr]) => [addr, name])),\n    ...Object.fromEntries(ENV.owners.map((o, i) => [o.addr, `o${i + 1}`])),\n    ...Object.fromEntries(ENV.owners.map((o, i) => [o.wallet, `o${i + 1}w`]))\n  }\n\n  return (\n    <TONUAXContext.Provider value={{ ton, UAXSystem, UAXOwners, UAXSystemMap, UAXOwner, UAXUser }}>\n      {props.children}\n    </TONUAXContext.Provider>\n  );\n};\n","import { useContext, useEffect } from 'react';\n\nimport { TONUAXContext } from './context'\n\n\nexport function useTON() {\n  const { ton } = useContext(TONUAXContext)\n  return ton\n}\n\nexport function useUAXSystemMap() {\n  const { UAXSystemMap } = useContext(TONUAXContext)\n  return UAXSystemMap\n}\n\n\nexport function useUAXSystem() {\n  const { UAXSystem } = useContext(TONUAXContext)\n  return UAXSystem\n}\n\nexport function useOwner({ idx, twAddr }) {\n  const { UAXOwner } = useContext(TONUAXContext)\n  const owner = UAXOwner({ idx, twAddr })\n  useEffect(() => {\n    return () => {\n      if (owner) {\n        owner.contract.free()\n        owner.wallet.free()\n      }\n    }\n  }, [owner])\n\n  return [owner?.contract, owner?.wallet]\n}\n\nexport function useUser(idx) {\n  const { UAXUser } = useContext(TONUAXContext)\n  const user = UAXUser(idx)\n  useEffect(() => {\n    return () => {\n      if (user) {\n        user.free()\n      }\n    }\n  }, [user])\n  return user\n}\n\n\n","import { useCallback } from 'react';\nimport {\n  useAsync,\n  useInterval,\n  useMap,\n  useAsyncRetry,\n  useEvent,\n} from 'react-use';\nimport { readPublic } from '../../uax';\nimport { useUAXSystem, useUAXSystemMap } from '../../uax/hooks.js';\n\nfunction Dev() {\n  const UAX = useUAXSystem();\n  const SystemMap = useUAXSystemMap();\n\n  const [messages, { set, reset }] = useMap({});\n  const onKeyDown = useCallback(({ key }) => {\n    if (key === 'c') reset();\n  }, []);\n  useEvent('keydown', onKeyDown);\n\n  const state = useAsyncRetry(async () => {\n    let e = await readPublic(UAX.Medium, '_currentEvent');\n    let proposals = await readPublic(UAX.Medium, '_proposals');\n    let proposal = proposals[e.id];\n    return { e, proposal };\n  }, [messages.length]);\n\n  useInterval(() => {\n    if (!state.loading) state.retry();\n  }, 1000);\n\n  useAsync(async () => {\n    await UAX.Medium.subscribeMessages(\n      'id,created_at,boc,src,dst',\n      async msg => {\n        const decoded = await UAX.Medium.decodeMessage(msg.boc);\n\n        const srcName = SystemMap[msg.src] || msg.src.slice(5);\n        const dstName = SystemMap[msg.dst] || msg.dst.slice(5);\n\n        set(msg.id, {\n          t: new Date(msg.created_at * 1000).toLocaleTimeString(),\n          src: srcName,\n          dst: dstName,\n          name: decoded.name,\n          params: decoded.value,\n        });\n        // console.log(message)\n      },\n    );\n  }, []);\n\n  function renderObj(o) {\n    let isObj = typeof o == 'object';\n    return isObj\n      ? Object.entries(o).map(([k, v]) => (\n          <div>\n            <i>{k}</i>:\n            <span>\n              {[Object, Array].includes(typeof v) ? JSON.stringify(v) : v}\n            </span>\n          </div>\n        ))\n      : o;\n  }\n\n  return (\n    <section>\n      <h2>Debugging Reserve Contract</h2>\n      <div className=\"flex\">\n        <div className=\"container\">\n          <h3>State</h3>\n          <br />\n          <br />\n          <div>\n            <b>Time</b> {new Date().toLocaleTimeString()} (\n            {Math.floor(new Date().getTime() / 1000)})\n          </div>\n          {state.value && (\n            <>\n              <div>\n                <b>Current Proposal Header</b>\n                {renderObj(state.value.e)}\n              </div>\n              {state.value.e.id > 0 && (\n                <div>\n                  <b>Proposal #{state.value.e.id}</b>\n                  {renderObj(state.value.proposal)}\n                </div>\n              )}\n            </>\n          )}\n        </div>\n\n        <div className=\"container\">\n          <h3>Messages (aka calls)</h3>\n\n          <small>Press 'c' to clear</small>\n          <br />\n          <br />\n          {Object.entries(messages).map(([id, msg]) => {\n            return (\n              <div>\n                <span>{`(${id.slice(0, 5)}) [${msg.t}] `}</span>\n                <span>{`${msg.src} -> ${msg.dst}`}</span>\n                <br />\n                <b>{msg.name}</b>\n                {Object.entries(msg.params).map(([k, v]) => {\n                  return (\n                    <>\n                      {' '}\n                      <i>{k}</i>: <span>{renderObj(v)}</span>\n                    </>\n                  );\n                })}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default Dev;\n","import s from './Loader.module.css';\n\nfunction Loader({ color, width = 20 }) {\n  return <div className={`${s.loader} i-cycle i-rotate`} style={{ width, fontSize: width, color: color }} />\n}\n\nexport default Loader;\n","import s from './Wallet.module.css';\nimport Loader from '../Loader/Loader';\nimport { useRef, useState } from 'react';\nimport {\n  useAsync,\n  useAsyncFn,\n  useCopyToClipboard,\n} from 'react-use';\n\nimport uax from '../../uax';\n\n\nfunction WalletAddress({ address, children }) {\n  const [, copyToClipboard] = useCopyToClipboard()\n  return <div className={`${s.yadd} i-copy`} onClick={() => copyToClipboard(address)}>{children}</div>\n}\n\n\nfunction Wallet({ label, account }) {\n  const [uaxBalance, setUAXBalance] = useState('')\n  const [tonBalance, setTONBalance] = useState('')\n\n\n  useAsync(async () => {\n    uax.getUAXBalance(account).then(setUAXBalance);\n    uax.getTONBalance(account).then(setTONBalance);\n    return await account.subscribeMessages(\"id,boc\", msg => {\n      account.refresh()\n      console.log('Wallet.onMessage', Date.now().toLocaleString())\n      uax.getUAXBalance(account).then(setUAXBalance);\n      uax.getTONBalance(account).then(setTONBalance);\n    })\n  }, [account])\n\n  const toInput = useRef();\n  const valueInput = useRef();\n  const [sendResult, send] = useAsyncFn(async (e) => {\n    e.preventDefault()\n    try {\n      let to = toInput.current.value\n      let val = Number(valueInput.current.value)\n      if (!to.match(/^0:[a-fA-F0-9]{64}$/) || !Number.isInteger(val) || !(val > 0))\n        return\n\n      let tx = await account.run('transferTokens', { to: to, val: val })\n\n      console.log(`Transaction Sent (${account.address}) to=${to} val=${val}`, tx)\n      toInput.current.value = ''\n      valueInput.current.value = ''\n      return tx\n    }\n    catch (err) {\n      console.error(err)\n    }\n  }, [account])\n\n  const address = account.address\n  const addressShort = address.slice(0, 11) + ' ... ' + address.slice(-9)\n\n  const loadingBtn = <button className={s.buttonLoading}><Loader /></button>\n  const sendBtn = <button className={s.button} onClick={send}>Send</button>\n\n  return <>\n    <h3 className=\"i-card\">Wallet</h3>\n    <div className={s.spacer}></div>\n    <div className={s.wallet}>\n      <p className={s.info}>{label}</p>\n      <div className={s.value}>\n        <p className={`i-uax`}>{uaxBalance}</p>\n        <p className={`i-gas`}>{tonBalance}</p>\n      </div>\n    </div>\n    <WalletAddress address={address}>{addressShort}</WalletAddress>\n    <h3 className=\"i-path\">Transfer</h3>\n    <form className={s.block}>\n      {/* <label className=\"i-target\">To</label> */}\n      <input\n        className={s.input}\n        type=\"text\"\n        placeholder=\"Address (0:...)\"\n        ref={toInput}\n      />\n      {/* <label className=\"i-card\">Amount</label> */}\n      <input\n        className={s.input}\n        type=\"text\"\n        placeholder=\"Amount\"\n        ref={valueInput}\n      />\n      {sendResult.loading ? loadingBtn : sendBtn}\n    </form>\n  </>\n}\n\nexport default Wallet;\n","// import { useState, useContext } from 'react';\n\nimport { useUser } from \"../../uax/hooks\";\nimport Wallet from \"../Wallet\";\n\n\nfunction Demo() {\n  const u1 = useUser(1)\n  const u2 = useUser(2)\n  return (\n    <section>\n      <h2>User Wallet Demo</h2>\n      <div className=\"flex\">\n        <div className=\"container\">\n          <Wallet label=\"User 1\" account={u1}></Wallet>\n        </div>\n        <div className=\"container\">\n          <Wallet label=\"User 2\" account={u2}></Wallet>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default Demo;\n","import s from './ProposeForms.module.css';\nimport Loader from '../Loader';\n\nimport { useRef } from 'react';\nimport { useAsyncFn } from 'react-use';\n\n\nfunction PositiveIntValueForm({\n  account, method, argName, otherArgs = {},\n  inputHint = \"Positive integer value\",\n  buttonCaption = \"Send Message\"\n}) {\n  const input = useRef()\n\n  const [sendResult, send] = useAsyncFn(async (e) => {\n    e.preventDefault()\n    try {\n      let value = Number(input.current.value)\n      if (!Number.isInteger(value) || (value <= 0))\n        return\n\n      let tx = await account.run(method, { [argName]: value, ...otherArgs })\n\n      input.current.value = ''\n      console.log(`Proposal Sent (${account.address}) params=${JSON.stringify(otherArgs)} value=${value}`, tx)\n      return tx\n    }\n    catch (err) {\n      console.error(err)\n    }\n  }, [account, method, argName, otherArgs])\n\n  const loadingBtn = <button className={s.buttonLoading}><Loader /></button>\n  const proposeBtn = <button className={s.button} onClick={send}>{buttonCaption}</button>\n  return <form className={s.block}>\n    <input\n      className={s.input}\n      type=\"text\"\n      placeholder={inputHint}\n      ref={input}\n    />\n    {sendResult.loading ? loadingBtn : proposeBtn}\n  </form>\n}\n\n\nfunction Propose({ owner, wallet }) {\n  const votingFormsParams = { argName: \"value\", method: \"propose\", account: owner }\n  const formProps = {\n    mint: {\n      otherArgs: { eType: 1 },\n      inputHint: \"Mint to Reserve\",\n      buttonCaption: \"Mint\",\n      ...votingFormsParams\n    },\n    burn: {\n      otherArgs: { eType: 2 },\n      inputHint: \"Burn from Reserve\",\n      buttonCaption: \"Burn\",\n      ...votingFormsParams\n    },\n    lock: {\n      account: wallet,\n      method: \"donate\",\n      argName: \"val\",\n\n      inputHint: \"Lock to Reserve\",\n      buttonCaption: \"Lock\",\n    },\n    pull: {\n      otherArgs: { eType: 3 },\n      inputHint: \"Unlock from Reserve\",\n      buttonCaption: \"Unlock\",\n      ...votingFormsParams\n    },\n    updfee: {\n      otherArgs: { eType: 4 },\n      inputHint: \"Update Fee\",\n      buttonCaption: \"Update Fee\",\n      ...votingFormsParams\n    },\n    harvest: {\n      otherArgs: { eType: 5 },\n      inputHint: \"Harvest Fee\",\n      buttonCaption: \"Harvest Fee\",\n      ...votingFormsParams\n    }\n  }\n  function proposeEventForm(eTypeStr) {\n    const props = formProps[eTypeStr]\n    return props && <PositiveIntValueForm {...props} />\n  }\n\n  return <>\n    <h3 className=\"i-chem\">UAX Reserve Operations</h3>\n    <div>\n      <div className={`flex ${s.twoforms}`}>\n        {proposeEventForm(\"mint\")} {proposeEventForm(\"burn\")}\n      </div>\n      <div className={`flex ${s.twoforms}`}>\n        {proposeEventForm(\"lock\")} {proposeEventForm(\"pull\")}\n      </div>\n    </div>\n\n    <h3 className=\"i-fee\">UAX Fee Operations</h3>\n    <div className=\"flex\">\n      {proposeEventForm(\"updfee\")} {proposeEventForm(\"harvest\")}\n    </div>\n  </>;\n}\n\nexport default Propose;\n","import { useEffect, useState } from 'react';\n\nimport s from './Vote.module.css';\nimport Loader from '../Loader'\n\nfunction getTimeLeftString(t) {\n  if (!t)\n    return \"\"\n  const now = new Date()\n  const d = (t - now) / 1000;\n  if (d < 0) return ''\n  let days = Math.floor(d / (60 * 60 * 24));\n  let hours = Math.floor((d % (60 * 60 * 24)) / (60 * 60)).toString().padStart(2, \"0\")\n  let minutes = Math.floor((d % (60 * 60)) / (60)).toString().padStart(2, \"0\")\n  let seconds = Math.floor((d % (60))).toString().padStart(2, \"0\")\n\n  return `${days} days ${hours}:${minutes}:${seconds}`\n}\n\n\nfunction Vote({ owner, proposal, refresh, ownerAlreadyVoted }) {\n  const [timeLeft, setTimeLeft] = useState(proposal.expire)\n  const [time, setTime] = useState(getTimeLeftString(timeLeft))\n  const [resolution, setResolution] = useState(null)\n  const [disableVoting, setDisableVoting] = useState(ownerAlreadyVoted)\n\n  const eventTypesDisplay = {\n    \"mint\": \"mint\",\n    \"burn\": \"burn\",\n    \"withdraw\": \"withdraw\",\n    \"setfee\": \"set transfer fee\",\n    \"claimfee\": \"withdraw fee\"\n  }\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setTime(getTimeLeftString(timeLeft))\n      setTimeLeft(timeLeft - 1000)\n    }, 1000)\n    return () => clearInterval(interval)\n  }, [])\n\n  if (!time) return null\n\n  const authorAlias = `Owner ${proposal.author}`\n\n  // const expireIn = getTimeLeftString(proposal.expire)\n  // useInterval(() => refresh, 1000)\n\n  const btnApproveClassName = (resolution === \"approve\") ? s.buttonvoted : s.button\n  const btnRejectClassName = (resolution === \"reject\") ? s.buttonvoted : s.button\n\n  async function resolve(positive) {\n    setDisableVoting(true)\n    let res = positive ? \"approve\" : \"reject\"\n    setResolution(res)\n    await owner.run(res, { id: proposal.id })\n  }\n\n  return (\n    <div className={s.message}>\n      <span>\n        <b>{authorAlias}</b> proposed to <b>{eventTypesDisplay[proposal.type]}</b>\n        <span className=\"i-uax\">{proposal.value}</span>\n      </span>\n\n      <span className=\"i-cycle i-rotate\">Expire in {time}</span>\n      <span className=\"i-eye\">Signed: {proposal.hasSigs}/{proposal.reqSigs}</span>\n\n      <div\n        className={`${btnApproveClassName} ${disableVoting ? s.buttondisabled : \"\"}`}\n        onClick={() => resolve(true)}>{resolution === \"approve\" ? <Loader width={10} /> : 'APPROVE'}</div>\n      <div\n        className={`${btnRejectClassName} ${disableVoting ? s.buttondisabled : \"\"}`}\n        onClick={() => resolve(false)}>{resolution === \"reject\" ? <Loader width={10} /> : 'REJECT'}</div>\n    </div>)\n}\n\nexport default Vote;\n","import Propose from \"./Propose\";\nimport Vote from './Vote';\nconst Owner = { Propose, Vote }\n\nexport default Owner\n","import { readPublic } from \".\"\n\nconst pendingStateID = 2\nconst eventTypes = {\n  1: \"mint\",\n  2: \"burn\",\n  3: \"withdraw\",\n  4: \"setfee\",\n  5: \"claimfee\"\n}\n\n\nexport async function lastProposalOnApproval(medium) {\n  console.log('---')\n  medium.refresh()\n  const current = await readPublic(medium, \"_currentEvent\")\n  if (current.state != pendingStateID)\n    return\n\n  const proposals = await readPublic(medium, \"_proposals\")\n\n  const proposal = proposals[current.id]\n  console.log('raw proposal', proposal)\n  let owners = [0, 1, 2]\n  let ownersVoted = []\n  for (let idx of owners) {\n    let mask = 1 << idx\n    let voted = proposal.signsMask & mask\n    if (voted)\n      ownersVoted.push(idx + 1)\n  }\n  const parsedProposal = {\n    id: Number(proposal.id),\n    type: eventTypes[proposal.eType],\n    value: Number(proposal.value),\n\n    created: new Date(proposal.createdAt * 1000),\n    expire: new Date(proposal.expireAt * 1000),\n\n    author: proposal.actor - 10000 + 1,\n\n    ownersVoted: ownersVoted,\n    hasSigs: Number(proposal.signsAt),\n    reqSigs: Number(proposal.signsReq)\n  }\n  console.log('parsed proposal', parsedProposal)\n  return parsedProposal\n}\n","import Owner from '../Owner';\nimport Wallet from '../Wallet';\n\nimport { useOwner, useUAXSystem } from '../../uax/hooks';\nimport { useAsync, useAsyncFn, useAsyncRetry, useInterval } from 'react-use';\n\nimport { lastProposalOnApproval } from '../../uax/proposal';\nimport { useCallback } from 'react';\n\nfunction useX(contract, proposal, medium, updateProposal) {\n\n  useAsync(async () => {\n    console.log('Owner.subscribe', (new Date()).toLocaleString(), contract.address)\n    // if (!proposal.value)\n    //   updateProposal()\n    return await contract.subscribe(\n      \"messages\",\n      {\n        src: { eq: medium.address }, dst: { eq: contract.address },\n        OR: {\n          src: { eq: contract.address }, dst: { eq: medium.address }\n        }\n      },\n      \"id,created_at,boc,src,dst\", async msg => {\n        console.log('Owner.onMessage', (new Date()).toLocaleString())\n        let m = await ((msg.dst == medium.address) ? medium : contract).decodeMessage(msg.boc)\n        console.log((msg.dst == medium.address) ? 'medium' : 'owner', '->', msg.dst.slice(0, 5), m.name, m.value)\n        if (m.name == 'updateEventState')\n          updateProposal()\n      })\n  }, [proposal.value?.id, proposal.value?.hasSigs, contract, medium])\n\n}\n\nfunction Demo1({ idx }) {\n  const [contract, wallet] = useOwner({ idx })\n  const UAXSystem = useUAXSystem()\n  const medium = UAXSystem.Medium\n\n  const proposal = useAsyncRetry(async () => await lastProposalOnApproval(medium), [])\n\n  console.log(`render demo for o${idx}. contract: ${contract?.address} tw: ${wallet?.address}`)\n  const isMyProposal = proposal.value?.author === idx\n  const alreadyVoted = proposal.value?.ownersVoted.includes(idx)\n  const showProposalPopup = !proposal.loading && proposal.value && !isMyProposal && proposal.value.expire > new Date()\n\n  const updateProposal = useCallback(proposal.retry, [proposal])\n  // useInterval(useCallback(() => updateProposal, [proposal]), 1000)\n\n  useX(contract, proposal, medium, updateProposal)\n\n  return <>\n    {\n      showProposalPopup &&\n      <Owner.Vote owner={contract} proposal={proposal.value} refresh={updateProposal} ownerAlreadyVoted={alreadyVoted} />\n    }\n    {\n      contract && wallet &&\n      <section>\n        <h2>Owner {idx}</h2>\n        <div className=\"flex\">\n\n          <div className=\"container\">\n            <Owner.Propose owner={contract} wallet={wallet} />\n          </div>\n\n          <div className=\"container\">\n            <Wallet label={`OWNER ${idx}`} account={wallet} />\n          </div>\n\n        </div>\n      </section>\n    }\n  </>\n}\n\nexport default Demo1;\n","import s from './Aside.module.css'\nimport Btn from '../AdminBtn'\nimport Loader from '../Loader'\n\nimport { useContext, useState } from 'react'\nimport { useInterval } from 'react-use'\n\nimport uax from '../../uax'\nimport { TONUAXContext } from '../../uax/context'\n\n\nfunction StatsRow({ name, value, icon, children, child }) {\n  const loading = value === null\n  const classValue = `${s.value} ${loading ? `i-cycle i-rotate ${s.valueLoading}` : \"\"}`\n  return <>\n    <div className={s.statrow}>\n      <p className={child ? s.childstatname : s.statname}>{name}</p>\n      <div className={`${icon} ${s.unit}`} />\n      <span className={classValue}>{!loading && value}</span>\n    </div>\n    {children}\n  </>\n}\n\nfunction Aside() {\n  const [stats, setStats] = useState({\n    supply: null,\n    supplyBreakdown: {\n      twTotal: null,\n      owTotal: null,\n      feeTotal: null,\n      unallocated: null,\n    },\n    wallets: null,\n    transfers: null,\n    transferFee: null,\n    accruedFee: null,\n    claimedFee: null,\n    tons: null,\n  })\n  // const [config, setConfig] = useState({\n  //   initTON: \"\",\n  //   initUAX: \"\",\n  //   warnTON: \"\",\n  //   transferFee: \"\",\n  // })\n  const { UAXSystem } = useContext(TONUAXContext)\n\n\n  useInterval(() => {\n    UAXSystem.Root.refresh()\n    UAXSystem.Medium.refresh()\n    uax.getStats(UAXSystem.Root, UAXSystem.Medium).then(setStats)\n  }, 1000)\n\n  return (\n    <aside className={s.aside}>\n      <div className={s.stats}>\n        <h2>Statistics</h2>\n        <StatsRow name=\"Wallets\" value={stats.wallets} />\n        <StatsRow name=\"Transfers\" value={stats.transfers} />\n        <StatsRow name=\"TransferFee\" value={stats.transferFee} icon=\"i-uax\" />\n        <br />\n\n        <StatsRow name=\"Supply\" value={stats.supply} icon=\"i-uax\">\n          <StatsRow child name=\"Reserve\" value={stats.supplyBreakdown.unallocated} />\n          <StatsRow child name=\"Circulating\" value={stats.supplyBreakdown.twTotal} />\n          <StatsRow child name=\"CollectedFees\" value={stats.supplyBreakdown.feeTotal} />\n        </StatsRow>\n        <br />\n\n        <StatsRow name=\"ClaimedFee\" value={stats.claimedFee} icon=\"i-uax\" />\n        <StatsRow name=\"RemainingGas\" value={stats.tons} icon=\"i-gas\" />\n      </div>\n      {/* <div className={s.stats}>\n        <h2>Settings</h2>\n        <StatsRow name=\"TransferFee\" value={config.transferFee} icon=\"i-uax\" />\n        <StatsRow name=\"InitialBalance\" value={config.initUAX} icon=\"i-uax\" />\n        <StatsRow name=\"InitialGas\" value={config.initTON} icon=\"i-gas\" />\n        <StatsRow name=\"GasReplenishThreshold\" value={config.warnTON} icon=\"i-gas\" />\n      </div> */}\n      {/* <div>\n        <h2>Dev</h2>\n        <Btn caption=\"Create wallet\" />\n      </div> */}\n\n    </aside>\n  );\n}\n\nexport default Aside;\n","import s from './App.module.css';\nimport { Switch, Route } from 'react-router-dom';\n\nimport Header from './components/Header';\nimport Dev from './components/Dev';\nimport Demo from './components/Demo';\nimport Demo1 from './components/Demo1';\nimport Aside from './components/Aside';\n\n\nfunction App() {\n  return (\n    <main className={s.wrapper}>\n      <div className={s.page}>\n        <Header />\n        <div className={s.main}>\n          <Aside></Aside>\n          <div className={s.desk}>\n\n            <Switch>\n              <Route exact path=\"/\">\n                Hello world\n              </Route>\n              <Route exact path=\"/user\">\n                <Demo />\n              </Route>\n              <Route exact path=\"/owner/1\">\n                <Demo1 idx={1} />\n              </Route>\n              <Route exact path=\"/owner/2\">\n                <Demo1 idx={2} />\n              </Route>\n              <Route exact path=\"/owner/3\">\n                <Demo1 idx={3} />\n              </Route>\n              <Route exact path=\"/dev\">\n                <Dev />\n              </Route>\n            </Switch>\n          </div>\n        </div>\n      </div>\n    </main>\n  );\n}\n\nexport default App;\n","import 'modern-normalize/modern-normalize.css';\nimport './components/flex.css';\nimport './icons.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport App from './App';\nimport { TONUAXContextProvider } from './uax/context';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <TONUAXContextProvider>\n        <App />\n      </TONUAXContextProvider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}