{"version":3,"sources":["components/Wallet/Wallet.module.css","components/Aside/Aside.module.css","components/Owner/Vote.module.css","components/Owner/ProposeForms.module.css","App.module.css","components/Loader/Loader.module.css","components/AdminBtn/AdminBtn.module.css","components/Header/Header.module.css","img/logo.svg","components/Header/Header.js","uax/index.js","uax/context.js","uax/hooks.js","components/Dev/Dev.js","components/Loader/Loader.js","components/Wallet/Wallet.js","components/Demo/Demo.js","components/Owner/Propose.js","components/Owner/Vote.js","components/Owner/index.js","uax/proposal.js","components/Demo1/Demo1.js","components/Aside/Aside.js","App.js","index.js"],"names":["module","exports","Header","className","s","main","logo","to","title","logoImage","src","alt","width","menu","link","activeClassName","active","readGetter","contract","name","a","params","runLocal","decoded","output","readPublic","wrapContract","ton","address","abi","keys","Account","client","signer","signerKeys","root","medium","statsResponse","supplyResponse","getTONBalance","rootBalance","totalSupply","Object","values","reduce","b","Number","wallets","transfers","transferFee","supply","supplyBreakdown","claimedFee","totalFeeClaimed","accruedFee","tons","toString","getUAXBalance","balance","getBalance","hexBalance","parseInt","toFixed","uax","getStats","U1","ENV","users","addr","U2","ROOT","contracts","Root","MEDIUM","Medium","UAXABI","RootABI","MediumABI","TokenWallet","TokenWalletABI","OwnerWallet","OwnerWalletABI","libWebSetup","binaryURL","ton_","useBinaryLibrary","libWeb","TONUAXContext","createContext","TONUAXContextProvider","props","network","server_address","UAXSystem","UAXOwners","useAsync","owKeys","1","owners","2","3","entries","idx","keypair","ownerAddr","ownerTWAddr","wallet","UAXSystemMap","fromEntries","map","o","i","Provider","value","UAXOwner","twAddr","loading","undefined","owner","UAXUser","ukeys","children","useUAXSystem","useContext","useUser","user","useEffect","free","Dev","UAX","SystemMap","useMap","messages","set","reset","onKeyDown","useCallback","key","useEvent","state","useAsyncRetry","e","proposals","proposal","id","length","renderObj","k","v","Array","includes","JSON","stringify","useInterval","retry","subscribeMessages","msg","decodeMessage","boc","srcName","slice","dstName","dst","t","Date","created_at","toLocaleTimeString","Math","floor","getTime","Loader","color","loader","style","fontSize","WalletAddress","useCopyToClipboard","copyToClipboard","yadd","onClick","Wallet","label","account","useState","uaxBalance","setUAXBalance","tonBalance","setTONBalance","then","refresh","console","log","now","toLocaleString","toInput","useRef","valueInput","useAsyncFn","preventDefault","current","val","match","isInteger","run","tx","error","sendResult","send","addressShort","loadingBtn","buttonLoading","sendBtn","button","spacer","info","block","input","type","placeholder","ref","Demo","u1","u2","PositiveIntValueForm","method","argName","otherArgs","inputHint","buttonCaption","proposeBtn","Propose","votingFormsParams","formProps","mint","eType","burn","lock","pull","updfee","harvest","proposeEventForm","eTypeStr","twoforms","getTimeLeftString","d","days","hours","padStart","minutes","seconds","Vote","Owner","ownerAlreadyVoted","expire","timeLeft","setTimeLeft","time","setTime","resolution","setResolution","disableVoting","setDisableVoting","interval","setInterval","clearInterval","authorAlias","author","btnApproveClassName","buttonvoted","btnRejectClassName","resolve","positive","res","message","hasSigs","reqSigs","buttondisabled","eventTypes","4","5","lastProposalOnApproval","ownersVoted","mask","signsMask","push","parsedProposal","created","createdAt","expireAt","actor","signsAt","signsReq","Demo1","useOwner","isMyProposal","alreadyVoted","showProposalPopup","updateProposal","subscribe","eq","OR","m","useX","StatsRow","icon","child","classValue","valueLoading","statrow","childstatname","statname","unit","Aside","twTotal","owTotal","feeTotal","unallocated","stats","setStats","aside","App","wrapper","page","desk","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.feb3e3e9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"spacer\":\"Wallet_spacer__AZ9rm\",\"wallet\":\"Wallet_wallet__2wt2_\",\"info\":\"Wallet_info__2s-UA\",\"value\":\"Wallet_value__ttzbH\",\"yadd\":\"Wallet_yadd__1P2CV\",\"block\":\"Wallet_block__2Zfda\",\"input\":\"Wallet_input__26nQ_\",\"button\":\"Wallet_button__IUVgY\",\"buttonLoading\":\"Wallet_buttonLoading__2TwDX Wallet_button__IUVgY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"Aside_aside__AJ6L2\",\"stats\":\"Aside_stats__bzd0x\",\"statrow\":\"Aside_statrow__1xCHC\",\"statname\":\"Aside_statname__2NAUy\",\"childstatname\":\"Aside_childstatname__3Xxj6 Aside_statname__2NAUy\",\"row\":\"Aside_row__xagzr\",\"unit\":\"Aside_unit__2FR4W\",\"value\":\"Aside_value__1I7yd\",\"valueLoading\":\"Aside_valueLoading__1gJyo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Vote_message__1b-tW\",\"button\":\"Vote_button__tXKCk\",\"buttondisabled\":\"Vote_buttondisabled__2cooU\",\"buttonvoted\":\"Vote_buttonvoted__1JLZI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"twoforms\":\"ProposeForms_twoforms__10g0c\",\"block\":\"ProposeForms_block__3J6U0\",\"input\":\"ProposeForms_input__3nNnt\",\"button\":\"ProposeForms_button__Y_Pkk\",\"buttonLoading\":\"ProposeForms_buttonLoading__1aA3X ProposeForms_button__Y_Pkk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"App_wrapper__2NeAC\",\"page\":\"App_page__3QeYI\",\"desk\":\"App_desk__2fv79\",\"main\":\"App_main__7ZhQe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3o48W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"AdminBtn_button__z-kl6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Header_main__13VQe\",\"logo\":\"Header_logo__1viKX\",\"logoImage\":\"Header_logoImage__3b254\",\"title\":\"Header_title__1IGTh\",\"menu\":\"Header_menu__qUsoW\",\"link\":\"Header_link__36ail\",\"active\":\"Header_active__39eNX Header_link__36ail\",\"act\":\"Header_act__Zgi4l\"};","export default __webpack_public_path__ + \"static/media/logo.67a64b57.svg\";","import s from './Header.module.css';\r\nimport logo from '../../img/logo.svg';\r\nimport { Link, NavLink } from 'react-router-dom';\r\n\r\nfunction Header() {\r\n\r\n  return (\r\n    <header className={s.main}>\r\n      <div className={s.logo}>\r\n        <h1>\r\n          <Link to=\"/\" className={s.title}>\r\n            <img className={s.logoImage} src={logo} alt=\"logo\" width=\"30px\" />\r\n            UAX\r\n          </Link>\r\n        </h1>\r\n      </div>\r\n      <div className={s.menu}>\r\n\r\n        <NavLink to=\"/user\" className={s.link} activeClassName={s.active}>\r\n          User-User\r\n        </NavLink>\r\n        <NavLink to=\"/owner/1\" className={s.link} activeClassName={s.active}>\r\n          Owner 1\r\n        </NavLink>\r\n        <NavLink to=\"/owner/2\" className={s.link} activeClassName={s.active}>\r\n          Owner 2\r\n        </NavLink>\r\n        <NavLink to=\"/owner/3\" className={s.link} activeClassName={s.active}>\r\n          Owner 3\r\n        </NavLink>\r\n        <NavLink to=\"/dev\" className={s.link} activeClassName={s.active}>\r\n          Don't touch\r\n        </NavLink>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import { Account } from '@tonclient/appkit';\r\nimport { signerKeys } from '@tonclient/core';\r\n\r\n\r\nexport async function readGetter(contract, name, params = {}) {\r\n  return (await contract.runLocal(name, params)).decoded.output\r\n}\r\n\r\nexport async function readPublic(contract, name) {\r\n  return (await contract.runLocal(name, {})).decoded.output[name]\r\n}\r\n\r\nexport function wrapContract(ton, address, abi, keys) {\r\n  return new Account(\r\n    { abi },\r\n    {\r\n      address, client: ton,\r\n      signer: keys ? signerKeys(keys) : null\r\n    }\r\n  )\r\n}\r\n\r\nexport async function getStats(root, medium) {\r\n  const statsResponse = await readGetter(medium, 'getStats')\r\n  const supplyResponse = await readGetter(medium, 'supplyImproved')\r\n  const rootBalance = await getTONBalance(root)\r\n  const totalSupply = Object.values(supplyResponse).reduce((a, b) => Number(a) + Number(b))\r\n  return {\r\n    wallets: statsResponse.wallets,\r\n    transfers: statsResponse.transfers,\r\n    transferFee: statsResponse.transferFee,\r\n\r\n    supply: totalSupply,\r\n    supplyBreakdown: supplyResponse,\r\n    claimedFee: statsResponse.totalFeeClaimed,\r\n\r\n    accruedFee: statsResponse.accruedFee,\r\n    tons: rootBalance.toString(),\r\n  }\r\n}\r\n\r\nexport const getUAXBalance = async contract => {\r\n  const balance = await readGetter(contract, 'getFinances')\r\n  return balance.balance\r\n}\r\n\r\nexport const getTONBalance = async contract => {\r\n  const hexBalance = (await contract.getBalance());\r\n  return +(parseInt(hexBalance, 16) / 10 ** 9).toFixed(2);\r\n}\r\n\r\n\r\nconst uax = { getStats, getUAXBalance, getTONBalance };\r\n\r\nexport default uax;\r\n\r\n","import { createContext } from 'react';\r\nimport { TonClient as ton_ } from '@tonclient/core';\r\nimport { libWeb, libWebSetup } from '@tonclient/lib-web';\r\n\r\nimport RootABI from './ton-abi/Root.abi.json'\r\nimport MediumABI from './ton-abi/Medium.abi.json'\r\nimport TokenWalletABI from './ton-abi/TokenWallet.abi.json'\r\nimport OwnerWalletABI from './ton-abi/OwnerWallet.abi.json'\r\nimport ENV from './Env.json'\r\n\r\nimport { wrapContract } from '.';\r\nimport { useAsync } from 'react-use';\r\n\r\n\r\nconst U1 = ENV.users[0].addr\r\nconst U2 = ENV.users[1].addr\r\n\r\nconst ROOT = ENV.contracts.Root\r\nconst MEDIUM = ENV.contracts.Medium\r\n\r\nconst UAXABI = {\r\n  Root: RootABI,\r\n  Medium: MediumABI,\r\n  TokenWallet: TokenWalletABI,\r\n  OwnerWallet: OwnerWalletABI\r\n}\r\n\r\nlibWebSetup({\r\n  binaryURL: process.env.PUBLIC_URL + \"/tonclient.wasm\",\r\n})\r\nton_.useBinaryLibrary(libWeb);\r\n\r\n\r\nexport const TONUAXContext = createContext();\r\nexport const TONUAXContextProvider = props => {\r\n  const ton = new ton_({\r\n    network: {\r\n      server_address: ENV.network\r\n    }\r\n  })\r\n  const UAXSystem = {\r\n    Root: wrapContract(ton, ROOT, UAXABI.Root),\r\n    Medium: wrapContract(ton, MEDIUM, UAXABI.Medium)\r\n  }\r\n\r\n  const UAXOwners = useAsync(async () => {\r\n    let owKeys = {\r\n      1: ENV.owners[0].keys,\r\n      2: ENV.owners[1].keys,\r\n      3: ENV.owners[2].keys,\r\n    }\r\n    let owners = {}\r\n\r\n    for (let [idx, keypair] of Object.entries(owKeys)) {\r\n      let ownerAddr = ENV.owners[idx - 1].addr\r\n      let ownerTWAddr = ENV.owners[idx - 1].wallet\r\n      let contract = wrapContract(ton, ownerAddr, UAXABI.OwnerWallet, keypair)\r\n      let wallet = wrapContract(ton, ownerTWAddr, UAXABI.TokenWallet, keypair)\r\n      owners[idx] = { contract, wallet }\r\n    }\r\n    return owners\r\n  }, [])\r\n\r\n  function UAXUser(idx) {\r\n    let addr, ukeys;\r\n    if (idx == 1) {\r\n      addr = U1\r\n      ukeys = ENV.users[0].keys\r\n    }\r\n    else if (idx == 2) {\r\n      addr = U2\r\n      ukeys = ENV.users[0].keys\r\n    }\r\n    return wrapContract(ton, addr, UAXABI.TokenWallet, ukeys)\r\n  }\r\n\r\n  function UAXOwner({ idx, twAddr }) {\r\n    let owners = UAXOwners.value\r\n\r\n    if (UAXOwners.loading)\r\n      return\r\n    if (idx !== undefined)\r\n      return owners[idx]\r\n    if (twAddr !== undefined)\r\n      for (let owner of Object.values(owners)) {\r\n        if (owner.wallet.address === twAddr)\r\n          return owner\r\n      }\r\n  }\r\n\r\n  const UAXSystemMap = {\r\n    ...Object.fromEntries(Object.entries(ENV.contracts).map(([name, addr]) => [addr, name])),\r\n    ...Object.fromEntries(ENV.owners.map((o, i) => [o.addr, `o${i + 1}`])),\r\n    ...Object.fromEntries(ENV.owners.map((o, i) => [o.wallet, `o${i + 1}w`]))\r\n  }\r\n\r\n  return (\r\n    <TONUAXContext.Provider value={{ ton, UAXSystem, UAXOwners, UAXSystemMap, UAXOwner, UAXUser }}>\r\n      {props.children}\r\n    </TONUAXContext.Provider>\r\n  );\r\n};\r\n","import { useContext, useEffect } from 'react';\r\n\r\nimport { TONUAXContext } from './context'\r\n\r\n\r\nexport function useTON() {\r\n  const { ton } = useContext(TONUAXContext)\r\n  return ton\r\n}\r\n\r\nexport function useUAXSystemMap() {\r\n  const { UAXSystemMap } = useContext(TONUAXContext)\r\n  return UAXSystemMap\r\n}\r\n\r\n\r\nexport function useUAXSystem() {\r\n  const { UAXSystem } = useContext(TONUAXContext)\r\n  return UAXSystem\r\n}\r\n\r\nexport function useOwner({ idx, twAddr }) {\r\n  const { UAXOwner } = useContext(TONUAXContext)\r\n  const owner = UAXOwner({ idx, twAddr })\r\n  useEffect(() => {\r\n    return () => {\r\n      if (owner) {\r\n        owner.contract.free()\r\n        owner.wallet.free()\r\n      }\r\n    }\r\n  }, [owner])\r\n\r\n  return [owner?.contract, owner?.wallet]\r\n}\r\n\r\nexport function useUser(idx) {\r\n  const { UAXUser } = useContext(TONUAXContext)\r\n  const user = UAXUser(idx)\r\n  useEffect(() => {\r\n    return () => {\r\n      if (user) {\r\n        user.free()\r\n      }\r\n    }\r\n  }, [user])\r\n  return user\r\n}\r\n\r\n\r\n","import { useCallback } from 'react';\r\nimport {\r\n  useAsync,\r\n  useInterval,\r\n  useMap,\r\n  useAsyncRetry,\r\n  useEvent,\r\n} from 'react-use';\r\nimport { readPublic } from '../../uax';\r\nimport { useUAXSystem, useUAXSystemMap } from '../../uax/hooks.js';\r\n\r\nfunction Dev() {\r\n  const UAX = useUAXSystem();\r\n  const SystemMap = useUAXSystemMap();\r\n\r\n  const [messages, { set, reset }] = useMap({});\r\n  const onKeyDown = useCallback(({ key }) => {\r\n    if (key === 'c') reset();\r\n  }, []);\r\n  useEvent('keydown', onKeyDown);\r\n\r\n  const state = useAsyncRetry(async () => {\r\n    let e = await readPublic(UAX.Medium, '_currentEvent');\r\n    let proposals = await readPublic(UAX.Medium, '_proposals');\r\n    let proposal = proposals[e.id];\r\n    return { e, proposal };\r\n  }, [messages.length]);\r\n\r\n  useInterval(() => {\r\n    if (!state.loading) state.retry();\r\n  }, 1000);\r\n\r\n  useAsync(async () => {\r\n    await UAX.Medium.subscribeMessages(\r\n      'id,created_at,boc,src,dst',\r\n      async msg => {\r\n        const decoded = await UAX.Medium.decodeMessage(msg.boc);\r\n\r\n        const srcName = SystemMap[msg.src] || msg.src.slice(5);\r\n        const dstName = SystemMap[msg.dst] || msg.dst.slice(5);\r\n\r\n        set(msg.id, {\r\n          t: new Date(msg.created_at * 1000).toLocaleTimeString(),\r\n          src: srcName,\r\n          dst: dstName,\r\n          name: decoded.name,\r\n          params: decoded.value,\r\n        });\r\n        // console.log(message)\r\n      },\r\n    );\r\n  }, []);\r\n\r\n  function renderObj(o) {\r\n    let isObj = typeof o == 'object';\r\n    return isObj\r\n      ? Object.entries(o).map(([k, v]) => (\r\n          <div>\r\n            <i>{k}</i>:\r\n            <span>\r\n              {[Object, Array].includes(typeof v) ? JSON.stringify(v) : v}\r\n            </span>\r\n          </div>\r\n        ))\r\n      : o;\r\n  }\r\n\r\n  return (\r\n    <section>\r\n      <h2>Debugging Reserve Contract</h2>\r\n      <div className=\"flex\">\r\n        <div className=\"container\">\r\n          <h3>State</h3>\r\n          <br />\r\n          <br />\r\n          <div>\r\n            <b>Time</b> {new Date().toLocaleTimeString()} (\r\n            {Math.floor(new Date().getTime() / 1000)})\r\n          </div>\r\n          {state.value && (\r\n            <>\r\n              <div>\r\n                <b>Current Proposal Header</b>\r\n                {renderObj(state.value.e)}\r\n              </div>\r\n              {state.value.e.id > 0 && (\r\n                <div>\r\n                  <b>Proposal #{state.value.e.id}</b>\r\n                  {renderObj(state.value.proposal)}\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"container\">\r\n          <h3>Messages (aka calls)</h3>\r\n\r\n          <small>Press 'c' to clear</small>\r\n          <br />\r\n          <br />\r\n          {Object.entries(messages).map(([id, msg]) => {\r\n            return (\r\n              <div>\r\n                <span>{`(${id.slice(0, 5)}) [${msg.t}] `}</span>\r\n                <span>{`${msg.src} -> ${msg.dst}`}</span>\r\n                <br />\r\n                <b>{msg.name}</b>\r\n                {Object.entries(msg.params).map(([k, v]) => {\r\n                  return (\r\n                    <>\r\n                      {' '}\r\n                      <i>{k}</i>: <span>{renderObj(v)}</span>\r\n                    </>\r\n                  );\r\n                })}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Dev;\r\n","import s from './Loader.module.css';\r\n\r\nfunction Loader({ color, width = 20 }) {\r\n  return <div className={`${s.loader} i-cycle i-rotate`} style={{ width, fontSize: width, color: color }} />\r\n}\r\n\r\nexport default Loader;\r\n","import s from './Wallet.module.css';\r\nimport Loader from '../Loader/Loader';\r\nimport { useRef, useState } from 'react';\r\nimport {\r\n  useAsync,\r\n  useAsyncFn,\r\n  useCopyToClipboard,\r\n} from 'react-use';\r\n\r\nimport uax from '../../uax';\r\n\r\n\r\nfunction WalletAddress({ address, children }) {\r\n  const [, copyToClipboard] = useCopyToClipboard()\r\n  return <div className={`${s.yadd} i-copy`} onClick={() => copyToClipboard(address)}>{children}</div>\r\n}\r\n\r\n\r\nfunction Wallet({ label, account }) {\r\n  const [uaxBalance, setUAXBalance] = useState('')\r\n  const [tonBalance, setTONBalance] = useState('')\r\n\r\n\r\n  useAsync(async () => {\r\n    uax.getUAXBalance(account).then(setUAXBalance);\r\n    uax.getTONBalance(account).then(setTONBalance);\r\n    return await account.subscribeMessages(\"id,boc\", msg => {\r\n      account.refresh()\r\n      console.log('Wallet.onMessage', Date.now().toLocaleString())\r\n      uax.getUAXBalance(account).then(setUAXBalance);\r\n      uax.getTONBalance(account).then(setTONBalance);\r\n    })\r\n  }, [account])\r\n\r\n  const toInput = useRef();\r\n  const valueInput = useRef();\r\n  const [sendResult, send] = useAsyncFn(async (e) => {\r\n    e.preventDefault()\r\n    try {\r\n      let to = toInput.current.value\r\n      let val = Number(valueInput.current.value)\r\n      if (!to.match(/^0:[a-fA-F0-9]{64}$/) || !Number.isInteger(val) || !(val > 0))\r\n        return\r\n\r\n      let tx = await account.run('transferTokens', { to: to, val: val })\r\n\r\n      console.log(`Transaction Sent (${account.address}) to=${to} val=${val}`, tx)\r\n      toInput.current.value = ''\r\n      valueInput.current.value = ''\r\n      return tx\r\n    }\r\n    catch (err) {\r\n      console.error(err)\r\n    }\r\n  }, [account])\r\n\r\n  const address = account.address\r\n  const addressShort = address.slice(0, 11) + ' ... ' + address.slice(-9)\r\n\r\n  const loadingBtn = <button className={s.buttonLoading}><Loader /></button>\r\n  const sendBtn = <button className={s.button} onClick={send}>Send</button>\r\n\r\n  return <>\r\n    <h3 className=\"i-card\">Wallet</h3>\r\n    <div className={s.spacer}></div>\r\n    <div className={s.wallet}>\r\n      <p className={s.info}>{label}</p>\r\n      <div className={s.value}>\r\n        <p className={`i-uax`}>{uaxBalance}</p>\r\n        <p className={`i-gas`}>{tonBalance}</p>\r\n      </div>\r\n    </div>\r\n    <WalletAddress address={address}>{addressShort}</WalletAddress>\r\n    <h3 className=\"i-path\">Transfer</h3>\r\n    <form className={s.block}>\r\n      {/* <label className=\"i-target\">To</label> */}\r\n      <input\r\n        className={s.input}\r\n        type=\"text\"\r\n        placeholder=\"Address (0:...)\"\r\n        ref={toInput}\r\n      />\r\n      {/* <label className=\"i-card\">Amount</label> */}\r\n      <input\r\n        className={s.input}\r\n        type=\"text\"\r\n        placeholder=\"Amount\"\r\n        ref={valueInput}\r\n      />\r\n      {sendResult.loading ? loadingBtn : sendBtn}\r\n    </form>\r\n  </>\r\n}\r\n\r\nexport default Wallet;\r\n","// import { useState, useContext } from 'react';\r\n\r\nimport { useUser } from \"../../uax/hooks\";\r\nimport Wallet from \"../Wallet\";\r\n\r\n\r\nfunction Demo() {\r\n  const u1 = useUser(1)\r\n  const u2 = useUser(2)\r\n  return (\r\n    <section>\r\n      <h2>User Wallet Demo</h2>\r\n      <div className=\"flex\">\r\n        <div className=\"container\">\r\n          <Wallet label=\"User 1\" account={u1}></Wallet>\r\n        </div>\r\n        <div className=\"container\">\r\n          <Wallet label=\"User 2\" account={u2}></Wallet>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Demo;\r\n","import s from './ProposeForms.module.css';\r\nimport Loader from '../Loader';\r\n\r\nimport { useRef } from 'react';\r\nimport { useAsyncFn } from 'react-use';\r\n\r\n\r\nfunction PositiveIntValueForm({\r\n  account, method, argName, otherArgs = {},\r\n  inputHint = \"Positive integer value\",\r\n  buttonCaption = \"Send Message\"\r\n}) {\r\n  const input = useRef()\r\n\r\n  const [sendResult, send] = useAsyncFn(async (e) => {\r\n    e.preventDefault()\r\n    try {\r\n      let value = Number(input.current.value)\r\n      if (!Number.isInteger(value) || (value <= 0))\r\n        return\r\n\r\n      let tx = await account.run(method, { [argName]: value, ...otherArgs })\r\n\r\n      input.current.value = ''\r\n      console.log(`Proposal Sent (${account.address}) params=${JSON.stringify(otherArgs)} value=${value}`, tx)\r\n      return tx\r\n    }\r\n    catch (err) {\r\n      console.error(err)\r\n    }\r\n  }, [account, method, argName, otherArgs])\r\n\r\n  const loadingBtn = <button className={s.buttonLoading}><Loader /></button>\r\n  const proposeBtn = <button className={s.button} onClick={send}>{buttonCaption}</button>\r\n  return <form className={s.block}>\r\n    <input\r\n      className={s.input}\r\n      type=\"text\"\r\n      placeholder={inputHint}\r\n      ref={input}\r\n    />\r\n    {sendResult.loading ? loadingBtn : proposeBtn}\r\n  </form>\r\n}\r\n\r\n\r\nfunction Propose({ owner, wallet }) {\r\n  const votingFormsParams = { argName: \"value\", method: \"propose\", account: owner }\r\n  const formProps = {\r\n    mint: {\r\n      otherArgs: { eType: 1 },\r\n      inputHint: \"Mint to Reserve\",\r\n      buttonCaption: \"Mint\",\r\n      ...votingFormsParams\r\n    },\r\n    burn: {\r\n      otherArgs: { eType: 2 },\r\n      inputHint: \"Burn from Reserve\",\r\n      buttonCaption: \"Burn\",\r\n      ...votingFormsParams\r\n    },\r\n    lock: {\r\n      account: wallet,\r\n      method: \"donate\",\r\n      argName: \"val\",\r\n\r\n      inputHint: \"Lock to Reserve\",\r\n      buttonCaption: \"Lock\",\r\n    },\r\n    pull: {\r\n      otherArgs: { eType: 3 },\r\n      inputHint: \"Unlock from Reserve\",\r\n      buttonCaption: \"Unlock\",\r\n      ...votingFormsParams\r\n    },\r\n    updfee: {\r\n      otherArgs: { eType: 4 },\r\n      inputHint: \"Update Fee\",\r\n      buttonCaption: \"Update Fee\",\r\n      ...votingFormsParams\r\n    },\r\n    harvest: {\r\n      otherArgs: { eType: 5 },\r\n      inputHint: \"Harvest Fee\",\r\n      buttonCaption: \"Harvest Fee\",\r\n      ...votingFormsParams\r\n    }\r\n  }\r\n  function proposeEventForm(eTypeStr) {\r\n    const props = formProps[eTypeStr]\r\n    return props && <PositiveIntValueForm {...props} />\r\n  }\r\n\r\n  return <>\r\n    <h3 className=\"i-chem\">UAX Reserve Operations</h3>\r\n    <div>\r\n      <div className={`flex ${s.twoforms}`}>\r\n        {proposeEventForm(\"mint\")} {proposeEventForm(\"burn\")}\r\n      </div>\r\n      <div className={`flex ${s.twoforms}`}>\r\n        {proposeEventForm(\"lock\")} {proposeEventForm(\"pull\")}\r\n      </div>\r\n    </div>\r\n\r\n    <h3 className=\"i-fee\">UAX Fee Operations</h3>\r\n    <div className=\"flex\">\r\n      {proposeEventForm(\"updfee\")} {proposeEventForm(\"harvest\")}\r\n    </div>\r\n  </>;\r\n}\r\n\r\nexport default Propose;\r\n","import { useEffect, useState } from 'react';\r\n\r\nimport s from './Vote.module.css';\r\nimport Loader from '../Loader'\r\n\r\nfunction getTimeLeftString(t) {\r\n  if (!t)\r\n    return \"\"\r\n  const now = new Date()\r\n  const d = (t - now) / 1000;\r\n  if (d < 0) return ''\r\n  let days = Math.floor(d / (60 * 60 * 24));\r\n  let hours = Math.floor((d % (60 * 60 * 24)) / (60 * 60)).toString().padStart(2, \"0\")\r\n  let minutes = Math.floor((d % (60 * 60)) / (60)).toString().padStart(2, \"0\")\r\n  let seconds = Math.floor((d % (60))).toString().padStart(2, \"0\")\r\n\r\n  return `${days} days ${hours}:${minutes}:${seconds}`\r\n}\r\n\r\n\r\nfunction Vote({ owner, proposal, refresh, ownerAlreadyVoted }) {\r\n  const [timeLeft, setTimeLeft] = useState(proposal.expire)\r\n  const [time, setTime] = useState(getTimeLeftString(timeLeft))\r\n  const [resolution, setResolution] = useState(null)\r\n  const [disableVoting, setDisableVoting] = useState(ownerAlreadyVoted)\r\n\r\n  const eventTypesDisplay = {\r\n    \"mint\": \"mint\",\r\n    \"burn\": \"burn\",\r\n    \"withdraw\": \"withdraw\",\r\n    \"setfee\": \"set transfer fee\",\r\n    \"claimfee\": \"withdraw fee\"\r\n  }\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setTime(getTimeLeftString(timeLeft))\r\n      setTimeLeft(timeLeft - 1000)\r\n    }, 1000)\r\n    return () => clearInterval(interval)\r\n  }, [])\r\n\r\n  if (!time) return null\r\n\r\n  const authorAlias = `Owner ${proposal.author}`\r\n\r\n  // const expireIn = getTimeLeftString(proposal.expire)\r\n  // useInterval(() => refresh, 1000)\r\n\r\n  const btnApproveClassName = (resolution === \"approve\") ? s.buttonvoted : s.button\r\n  const btnRejectClassName = (resolution === \"reject\") ? s.buttonvoted : s.button\r\n\r\n  async function resolve(positive) {\r\n    setDisableVoting(true)\r\n    let res = positive ? \"approve\" : \"reject\"\r\n    setResolution(res)\r\n    await owner.run(res, { id: proposal.id })\r\n  }\r\n\r\n  return (\r\n    <div className={s.message}>\r\n      <span>\r\n        <b>{authorAlias}</b> proposed to <b>{eventTypesDisplay[proposal.type]}</b>\r\n        <span className=\"i-uax\">{proposal.value}</span>\r\n      </span>\r\n\r\n      <span className=\"i-cycle i-rotate\">Expire in {time}</span>\r\n      <span className=\"i-eye\">Signed: {proposal.hasSigs}/{proposal.reqSigs}</span>\r\n\r\n      <div\r\n        className={`${btnApproveClassName} ${disableVoting ? s.buttondisabled : \"\"}`}\r\n        onClick={() => resolve(true)}>{resolution === \"approve\" ? <Loader width={10} /> : 'APPROVE'}</div>\r\n      <div\r\n        className={`${btnRejectClassName} ${disableVoting ? s.buttondisabled : \"\"}`}\r\n        onClick={() => resolve(false)}>{resolution === \"reject\" ? <Loader width={10} /> : 'REJECT'}</div>\r\n    </div>)\r\n}\r\n\r\nexport default Vote;\r\n","import Propose from \"./Propose\";\r\nimport Vote from './Vote';\r\nconst Owner = { Propose, Vote }\r\n\r\nexport default Owner\r\n","import { readPublic } from \".\"\r\n\r\nconst pendingStateID = 2\r\nconst eventTypes = {\r\n  1: \"mint\",\r\n  2: \"burn\",\r\n  3: \"withdraw\",\r\n  4: \"setfee\",\r\n  5: \"claimfee\"\r\n}\r\n\r\n\r\nexport async function lastProposalOnApproval(medium) {\r\n  console.log('---')\r\n  medium.refresh()\r\n  const current = await readPublic(medium, \"_currentEvent\")\r\n  if (current.state != pendingStateID)\r\n    return\r\n\r\n  const proposals = await readPublic(medium, \"_proposals\")\r\n\r\n  const proposal = proposals[current.id]\r\n  console.log('raw proposal', proposal)\r\n  let owners = [0, 1, 2]\r\n  let ownersVoted = []\r\n  for (let idx of owners) {\r\n    let mask = 1 << idx\r\n    let voted = proposal.signsMask & mask\r\n    if (voted)\r\n      ownersVoted.push(idx + 1)\r\n  }\r\n  const parsedProposal = {\r\n    id: Number(proposal.id),\r\n    type: eventTypes[proposal.eType],\r\n    value: Number(proposal.value),\r\n\r\n    created: new Date(proposal.createdAt * 1000),\r\n    expire: new Date(proposal.expireAt * 1000),\r\n\r\n    author: proposal.actor - 10000 + 1,\r\n\r\n    ownersVoted: ownersVoted,\r\n    hasSigs: Number(proposal.signsAt),\r\n    reqSigs: Number(proposal.signsReq)\r\n  }\r\n  console.log('parsed proposal', parsedProposal)\r\n  return parsedProposal\r\n}\r\n","import Owner from '../Owner';\r\nimport Wallet from '../Wallet';\r\n\r\nimport { useOwner, useUAXSystem } from '../../uax/hooks';\r\nimport { useAsync, useAsyncFn, useAsyncRetry, useInterval } from 'react-use';\r\n\r\nimport { lastProposalOnApproval } from '../../uax/proposal';\r\nimport { useCallback } from 'react';\r\n\r\nfunction useX(contract, proposal, medium, updateProposal) {\r\n\r\n  useAsync(async () => {\r\n    console.log('Owner.subscribe', (new Date()).toLocaleString(), contract.address)\r\n    // if (!proposal.value)\r\n    //   updateProposal()\r\n    return await contract.subscribe(\r\n      \"messages\",\r\n      {\r\n        src: { eq: medium.address }, dst: { eq: contract.address },\r\n        OR: {\r\n          src: { eq: contract.address }, dst: { eq: medium.address }\r\n        }\r\n      },\r\n      \"id,created_at,boc,src,dst\", async msg => {\r\n        console.log('Owner.onMessage', (new Date()).toLocaleString())\r\n        let m = await ((msg.dst == medium.address) ? medium : contract).decodeMessage(msg.boc)\r\n        console.log((msg.dst == medium.address) ? 'medium' : 'owner', '->', msg.dst.slice(0, 5), m.name, m.value)\r\n        if (m.name == 'updateEventState')\r\n          updateProposal()\r\n      })\r\n  }, [proposal.value?.id, proposal.value?.hasSigs, contract, medium])\r\n\r\n}\r\n\r\nfunction Demo1({ idx }) {\r\n  const [contract, wallet] = useOwner({ idx })\r\n  const UAXSystem = useUAXSystem()\r\n  const medium = UAXSystem.Medium\r\n\r\n  const proposal = useAsyncRetry(async () => await lastProposalOnApproval(medium), [])\r\n\r\n  console.log(`render demo for o${idx}. contract: ${contract?.address} tw: ${wallet?.address}`)\r\n  const isMyProposal = proposal.value?.author === idx\r\n  const alreadyVoted = proposal.value?.ownersVoted.includes(idx)\r\n  const showProposalPopup = !proposal.loading && proposal.value && !isMyProposal && proposal.value.expire > new Date()\r\n\r\n  const updateProposal = useCallback(proposal.retry, [proposal])\r\n  // useInterval(useCallback(() => updateProposal, [proposal]), 1000)\r\n\r\n  useX(contract, proposal, medium, updateProposal)\r\n\r\n  return <>\r\n    {\r\n      showProposalPopup &&\r\n      <Owner.Vote owner={contract} proposal={proposal.value} refresh={updateProposal} ownerAlreadyVoted={alreadyVoted} />\r\n    }\r\n    {\r\n      contract && wallet &&\r\n      <section>\r\n        <h2>Owner {idx}</h2>\r\n        <div className=\"flex\">\r\n\r\n          <div className=\"container\">\r\n            <Owner.Propose owner={contract} wallet={wallet} />\r\n          </div>\r\n\r\n          <div className=\"container\">\r\n            <Wallet label={`OWNER ${idx}`} account={wallet} />\r\n          </div>\r\n\r\n        </div>\r\n      </section>\r\n    }\r\n  </>\r\n}\r\n\r\nexport default Demo1;\r\n","import s from './Aside.module.css'\r\nimport Btn from '../AdminBtn'\r\nimport Loader from '../Loader'\r\n\r\nimport { useContext, useState } from 'react'\r\nimport { useInterval } from 'react-use'\r\n\r\nimport uax from '../../uax'\r\nimport { TONUAXContext } from '../../uax/context'\r\n\r\n\r\nfunction StatsRow({ name, value, icon, children, child }) {\r\n  const loading = value === null\r\n  const classValue = `${s.value} ${loading ? `i-cycle i-rotate ${s.valueLoading}` : \"\"}`\r\n  return <>\r\n    <div className={s.statrow}>\r\n      <p className={child ? s.childstatname : s.statname}>{name}</p>\r\n      <div className={`${icon} ${s.unit}`} />\r\n      <span className={classValue}>{!loading && value}</span>\r\n    </div>\r\n    {children}\r\n  </>\r\n}\r\n\r\nfunction Aside() {\r\n  const [stats, setStats] = useState({\r\n    supply: null,\r\n    supplyBreakdown: {\r\n      twTotal: null,\r\n      owTotal: null,\r\n      feeTotal: null,\r\n      unallocated: null,\r\n    },\r\n    wallets: null,\r\n    transfers: null,\r\n    transferFee: null,\r\n    accruedFee: null,\r\n    claimedFee: null,\r\n    tons: null,\r\n  })\r\n  // const [config, setConfig] = useState({\r\n  //   initTON: \"\",\r\n  //   initUAX: \"\",\r\n  //   warnTON: \"\",\r\n  //   transferFee: \"\",\r\n  // })\r\n  const { UAXSystem } = useContext(TONUAXContext)\r\n\r\n\r\n  useInterval(() => {\r\n    UAXSystem.Root.refresh()\r\n    UAXSystem.Medium.refresh()\r\n    uax.getStats(UAXSystem.Root, UAXSystem.Medium).then(setStats)\r\n  }, 1000)\r\n\r\n  return (\r\n    <aside className={s.aside}>\r\n      <div className={s.stats}>\r\n        <h2>Statistics</h2>\r\n        <StatsRow name=\"Wallets\" value={stats.wallets} />\r\n        <StatsRow name=\"Transfers\" value={stats.transfers} />\r\n        <StatsRow name=\"TransferFee\" value={stats.transferFee} icon=\"i-uax\" />\r\n        <br />\r\n\r\n        <StatsRow name=\"Supply\" value={stats.supply} icon=\"i-uax\">\r\n          <StatsRow child name=\"Reserve\" value={stats.supplyBreakdown.unallocated} />\r\n          <StatsRow child name=\"Circulating\" value={stats.supplyBreakdown.twTotal} />\r\n          <StatsRow child name=\"CollectedFees\" value={stats.supplyBreakdown.feeTotal} />\r\n        </StatsRow>\r\n        <br />\r\n\r\n        <StatsRow name=\"ClaimedFee\" value={stats.claimedFee} icon=\"i-uax\" />\r\n        <StatsRow name=\"RemainingGas\" value={stats.tons} icon=\"i-gas\" />\r\n      </div>\r\n      {/* <div className={s.stats}>\r\n        <h2>Settings</h2>\r\n        <StatsRow name=\"TransferFee\" value={config.transferFee} icon=\"i-uax\" />\r\n        <StatsRow name=\"InitialBalance\" value={config.initUAX} icon=\"i-uax\" />\r\n        <StatsRow name=\"InitialGas\" value={config.initTON} icon=\"i-gas\" />\r\n        <StatsRow name=\"GasReplenishThreshold\" value={config.warnTON} icon=\"i-gas\" />\r\n      </div> */}\r\n      {/* <div>\r\n        <h2>Dev</h2>\r\n        <Btn caption=\"Create wallet\" />\r\n      </div> */}\r\n\r\n    </aside>\r\n  );\r\n}\r\n\r\nexport default Aside;\r\n","import s from './App.module.css';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport Header from './components/Header';\r\nimport Dev from './components/Dev';\r\nimport Demo from './components/Demo';\r\nimport Demo1 from './components/Demo1';\r\nimport Aside from './components/Aside';\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <main className={s.wrapper}>\r\n      <div className={s.page}>\r\n        <Header />\r\n        <div className={s.main}>\r\n          <Aside></Aside>\r\n          <div className={s.desk}>\r\n\r\n            <Switch>\r\n              <Route exact path=\"/\">\r\n\r\n              </Route>\r\n              <Route exact path=\"/user\">\r\n                <Demo />\r\n              </Route>\r\n              <Route exact path=\"/owner/1\">\r\n                <Demo1 idx={1} />\r\n              </Route>\r\n              <Route exact path=\"/owner/2\">\r\n                <Demo1 idx={2} />\r\n              </Route>\r\n              <Route exact path=\"/owner/3\">\r\n                <Demo1 idx={3} />\r\n              </Route>\r\n              <Route exact path=\"/dev\">\r\n                <Dev />\r\n              </Route>\r\n            </Switch>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import 'modern-normalize/modern-normalize.css';\r\nimport './components/flex.css';\r\nimport './icons.css';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter as Router } from 'react-router-dom';\r\nimport App from './App';\r\nimport { TONUAXContextProvider } from './uax/context';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n      <TONUAXContextProvider>\r\n        <App />\r\n      </TONUAXContextProvider>\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}