{"version":3,"sources":["components/Header/Header.module.css","components/Wallet/Wallet.module.css","components/Aside/Aside.module.css","components/Owner/Vote.module.css","components/Owner/ProposeForms.module.css","App.module.css","components/Loader/Loader.module.css","components/AdminBtn/AdminBtn.module.css","img/logo.svg","components/Header/Header.js","uax/index.js","uax/context.js","uax/hooks.js","components/Loader/Loader.js","components/Wallet/Wallet.js","components/Demo/Demo.js","components/Owner/Propose.js","components/Owner/Vote.js","components/Owner/index.js","uax/proposal.js","components/Demo1/Demo1.js","components/AdminBtn/AdminBtn.js","components/Aside/Aside.js","App.js","index.js"],"names":["module","exports","Header","className","s","main","logo","to","title","logoImage","src","alt","width","menu","link","activeClassName","active","readGetter","contract","name","a","params","runLocal","decoded","output","readPublic","wrapContract","ton","address","abi","keys","Account","client","signer","signerKeys","root","medium","statsResponse","supplyResponse","getTONBalance","rootBalance","totalSupply","Object","values","reduce","b","Number","wallets","transfers","transferFee","supply","supplyBreakdown","claimedFee","totalFeeClaimed","accruedFee","tons","toString","getUAXBalance","balance","getBalance","hexBalance","parseInt","toFixed","uax","getStats","UAXABI","Repo","RepoABI","Console","ConsoleABI","EventLog","EventLogABI","Root","RootABI","Medium","MediumABI","TokenWallet","TokenWalletABI","OwnerWallet","OwnerWalletABI","libWebSetup","binaryURL","ton_","useBinaryLibrary","libWeb","TONUAXContext","createContext","TONUAXContextProvider","props","network","server_address","UAXSystem","UAXOwners","useAsync","owKeys","1","o1","2","o2","3","o3","ownersInfo","owners","ownerInfo","idx","clientId","ownerAddr","addr","ownerTWAddr","tokenWalletAddr","ownerKeys","wallet","Provider","value","UAXOwner","twAddr","loading","undefined","owner","UAXUser","ukeys","u1","u2","children","useUser","user","useContext","useEffect","free","Loader","color","loader","style","fontSize","WalletAddress","useCopyToClipboard","copyToClipboard","yadd","onClick","Wallet","label","account","useState","uaxBalance","setUAXBalance","tonBalance","setTONBalance","then","subscribeMessages","msg","refresh","console","log","Date","now","toInput","useRef","valueInput","useAsyncFn","e","preventDefault","current","val","match","isInteger","run","tx","error","sendResult","send","addressShort","slice","loadingBtn","buttonLoading","sendBtn","button","spacer","info","block","input","type","placeholder","ref","Demo","PositiveIntValueForm","method","argName","otherArgs","inputHint","buttonCaption","JSON","stringify","proposeBtn","Propose","votingFormsParams","formProps","mint","eType","burn","lock","pull","updfee","harvest","proposeEventForm","eTypeStr","twoforms","getTimeLeftString","t","d","days","Math","floor","hours","padStart","minutes","seconds","Vote","Owner","proposal","authorAlias","author","expire","expireIn","setExpireIn","useInterval","resolution","setResolution","disableVoting","setDisableVoting","btnApproveClassName","buttonvoted","btnRejectClassName","resolve","positive","res","id","message","hasSigs","reqSigs","buttondisabled","eventTypes","4","5","lastProposalOnApproval","state","proposals","parsedProposal","created","createdAt","validUntil","actor","signsAt","signsReq","Demo1","useOwner","walletEnv","useAsyncRetry","isMyProposal","showProposalPopup","subscribe","eq","dst","OR","decodeMessage","boc","m","retry","useX","Btn","caption","StatsRow","icon","child","classValue","valueLoading","statrow","childstatname","statname","unit","Aside","twTotal","owTotal","feeTotal","unallocated","stats","setStats","aside","App","wrapper","page","desk","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9e41ced1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Header_main__2r9vH\",\"logo\":\"Header_logo__3_SJs\",\"logoImage\":\"Header_logoImage__2KwYz\",\"title\":\"Header_title__3SH2Q\",\"menu\":\"Header_menu__BQHSW\",\"link\":\"Header_link__2wI74\",\"active\":\"Header_active__vmCnS Header_link__2wI74\",\"act\":\"Header_act__1iRYG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spacer\":\"Wallet_spacer__16JB9\",\"wallet\":\"Wallet_wallet__1Grsq\",\"info\":\"Wallet_info__YW5pO\",\"value\":\"Wallet_value__1ayvN\",\"yadd\":\"Wallet_yadd__yIG7m\",\"block\":\"Wallet_block__2TL5q\",\"input\":\"Wallet_input__eiXcK\",\"button\":\"Wallet_button__V7ThS\",\"buttonLoading\":\"Wallet_buttonLoading__24opq Wallet_button__V7ThS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"Aside_aside__1St8F\",\"stats\":\"Aside_stats__35-mK\",\"statrow\":\"Aside_statrow__3S5au\",\"statname\":\"Aside_statname__3cm0q\",\"childstatname\":\"Aside_childstatname__V39tL Aside_statname__3cm0q\",\"row\":\"Aside_row__up8dj\",\"unit\":\"Aside_unit__1S1A3\",\"value\":\"Aside_value__1aeVE\",\"valueLoading\":\"Aside_valueLoading__gVyV0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Vote_message__MfV2K\",\"button\":\"Vote_button__38l8p\",\"buttondisabled\":\"Vote_buttondisabled__140Kj\",\"buttonvoted\":\"Vote_buttonvoted__QCPv8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"twoforms\":\"ProposeForms_twoforms__2P-en\",\"block\":\"ProposeForms_block__1NwrZ\",\"input\":\"ProposeForms_input__2XHaP\",\"button\":\"ProposeForms_button__2IaXw\",\"buttonLoading\":\"ProposeForms_buttonLoading__1Bxgp ProposeForms_button__2IaXw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"App_wrapper__2Rh_f\",\"page\":\"App_page__CKP-2\",\"desk\":\"App_desk__2dGs9\",\"main\":\"App_main__3ZkGI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1j2Bs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"AdminBtn_button__1CAug\"};","export default __webpack_public_path__ + \"static/media/logo.240b99fe.svg\";","import s from './Header.module.css';\nimport logo from '../../img/logo.svg';\nimport { Link, NavLink } from 'react-router-dom';\n\nfunction Header() {\n\n  return (\n    <header className={s.main}>\n      <div className={s.logo}>\n        <h1>\n          <Link to=\"/\" className={s.title}>\n            <img className={s.logoImage} src={logo} alt=\"logo\" width=\"30px\" />\n            UAX\n          </Link>\n        </h1>\n      </div>\n      <div className={s.menu}>\n\n        <NavLink to=\"/user\" className={s.link} activeClassName={s.active}>\n          User-User\n        </NavLink>\n        <NavLink to=\"/owner/1\" className={s.link} activeClassName={s.active}>\n          Owner 1\n        </NavLink>\n        <NavLink to=\"/owner/2\" className={s.link} activeClassName={s.active}>\n          Owner 2\n        </NavLink>\n        <NavLink to=\"/owner/3\" className={s.link} activeClassName={s.active}>\n          Owner 3\n        </NavLink>\n        <NavLink to=\"/dev\" className={s.link} activeClassName={s.active}>\n          Don't touch\n        </NavLink>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import { Account } from '@tonclient/appkit';\nimport { signerKeys } from '@tonclient/core';\n\n\nexport async function readGetter(contract, name, params = {}) {\n  return (await contract.runLocal(name, params)).decoded.output\n}\n\nexport async function readPublic(contract, name) {\n  return (await contract.runLocal(name, {})).decoded.output[name]\n}\n\nexport function wrapContract(ton, address, abi, keys) {\n  return new Account(\n    { abi },\n    {\n      address, client: ton,\n      signer: keys ? signerKeys(keys) : null\n    }\n  )\n}\n\nexport async function getStats(root, medium) {\n  const statsResponse = await readGetter(medium, 'getStats')\n  const supplyResponse = await readGetter(medium, 'supplyImproved')\n  const rootBalance = await getTONBalance(root)\n  const totalSupply = Object.values(supplyResponse).reduce((a, b) => Number(a) + Number(b))\n  return {\n    wallets: statsResponse.wallets,\n    transfers: statsResponse.transfers,\n    transferFee: statsResponse.transferFee,\n\n    supply: totalSupply,\n    supplyBreakdown: supplyResponse,\n    claimedFee: statsResponse.totalFeeClaimed,\n\n    accruedFee: statsResponse.accruedFee,\n    tons: rootBalance.toString(),\n  }\n}\n\nconst getUAXBalance = async contract => {\n  const balance = await readGetter(contract, 'getFinances')\n  return balance.balance\n}\n\nconst getTONBalance = async contract => {\n  const hexBalance = (await contract.getBalance());\n  return +(parseInt(hexBalance, 16) / 10 ** 9).toFixed(2);\n}\n\n\nconst uax = { getStats, getUAXBalance, getTONBalance };\n\nexport default uax;\n\n","import { createContext } from 'react';\nimport { TonClient as ton_ } from '@tonclient/core';\nimport { libWeb, libWebSetup } from '@tonclient/lib-web';\n\nimport o1 from './ton-keys/o1.keys.json'\nimport o2 from './ton-keys/o2.keys.json'\nimport o3 from './ton-keys/o3.keys.json'\nimport u1 from './ton-keys/u1.keys.json'\nimport u2 from './ton-keys/u2.keys.json'\nimport RepoABI from './ton-abi/Repo.abi.json'\nimport ConsoleABI from './ton-abi/Console.abi.json'\nimport EventLogABI from './ton-abi/EventLog.abi.json'\nimport RootABI from './ton-abi/Root.abi.json'\nimport MediumABI from './ton-abi/Medium.abi.json'\nimport TokenWalletABI from './ton-abi/TokenWallet.abi.json'\nimport OwnerWalletABI from './ton-abi/OwnerWallet.abi.json'\nimport { readGetter, readPublic, wrapContract } from '.';\nimport { useAsync } from 'react-use';\n\n\nconst U1 = \"0:b449971e781ee433710f7b48f97497aa23295ea7083b3262fd8e723950ee7db9\"\nconst U2 = \"0:6358601ca6a2ea48577937391dbb40b3460a31a8d4fcb59c6a8d0f30a02ef9fd\"\n\nconst REPO = \"0:2dce986fa32a257d86c239e222dda010389a33e1d2f46cf0bbf5f5be511cf697\"\nconst CONSOLE = \"0:67454881a9e79aa0743b6c8b1e6df9ac00c93469e0c70495d51795e95879d28b\"\nconst EVENTLOG = \"0:c8aa23e3510265d2a22da266f2037a58e12a16eb475340688451b989f8d1a451\"\nconst ROOT = \"0:70c0587c9b91be890bd5dab54ace8c2b5baacd6aa07e3032b77ce402a27515b6\"\nconst MEDIUM = \"0:8d1ff4d8f66661f05a01434d91ed04eaceda5483cc42711ad095cbdfe4ff5a6a\"\nconst UAXABI = {\n  Repo: RepoABI,\n  Console: ConsoleABI,\n  EventLog: EventLogABI,\n  Root: RootABI,\n  Medium: MediumABI,\n  TokenWallet: TokenWalletABI,\n  OwnerWallet: OwnerWalletABI\n}\n\nlibWebSetup({\n  binaryURL: process.env.PUBLIC_URL + \"/tonclient.wasm\",\n})\nton_.useBinaryLibrary(libWeb);\n\n\nexport const TONUAXContext = createContext();\nexport const TONUAXContextProvider = props => {\n  const ton = new ton_({\n    network: {\n      server_address: 'net.ton.dev'\n    }\n  })\n  const UAXSystem = {\n    Repo: wrapContract(ton, REPO, UAXABI.Repo),\n    Console: wrapContract(ton, CONSOLE, UAXABI.Console),\n    EventLog: wrapContract(ton, EVENTLOG, UAXABI.EventLog),\n    Root: wrapContract(ton, ROOT, UAXABI.Root),\n    Medium: wrapContract(ton, MEDIUM, UAXABI.Medium)\n  }\n\n  const UAXOwners = useAsync(async () => {\n    let owKeys = { 1: o1, 2: o2, 3: o3 }\n    let ownersInfo = await readPublic(UAXSystem.Root, \"_owners\")\n    let owners = {}\n\n    for (let ownerInfo of Object.values(ownersInfo)) {\n      let idx = ownerInfo.clientId\n      let ownerAddr = ownerInfo.addr\n      let ownerTWAddr = ownerInfo.tokenWalletAddr\n      let ownerKeys = owKeys[idx]\n      let contract = wrapContract(ton, ownerAddr, UAXABI.OwnerWallet, ownerKeys)\n      let wallet = wrapContract(ton, ownerTWAddr, UAXABI.TokenWallet, ownerKeys)\n      owners[idx] = { contract, wallet }\n    }\n    return owners\n  }, [])\n\n  function UAXUser(idx) {\n    let addr, ukeys;\n    if (idx == 1) {\n      addr = U1\n      ukeys = u1\n    }\n    else if (idx == 2) {\n      addr = U2\n      ukeys = u2\n    }\n    return wrapContract(ton, addr, UAXABI.TokenWallet, ukeys)\n  }\n  function UAXOwner({ idx, twAddr }) {\n    let owners = UAXOwners.value\n    if (UAXOwners.loading)\n      return\n    if (idx !== undefined)\n      return owners[idx]\n    if (twAddr !== undefined)\n      for (let owner of Object.values(owners)) {\n        if (owner.wallet.address === twAddr)\n          return owner\n      }\n  }\n  return (\n    <TONUAXContext.Provider value={{ ton, UAXSystem, UAXOwners, UAXOwner, UAXUser }}>\n      {props.children}\n    </TONUAXContext.Provider>\n  );\n};\n","import { useContext, useEffect } from 'react';\n\nimport { TONUAXContext } from './context'\n\n\nexport function useTON() {\n  const { ton } = useContext(TONUAXContext)\n  return ton\n}\n\nexport function useUAXSystem() {\n  const { UAXSystem } = useContext(TONUAXContext)\n  return UAXSystem\n}\n\nexport function useOwner({ idx, twAddr }) {\n  const { UAXOwner } = useContext(TONUAXContext)\n  const owner = UAXOwner({ idx, twAddr })\n  // console.log('###', owner, idx, twAddr)\n  useEffect(() => {\n    return () => {\n      if (owner) {\n        owner.contract.free()\n        owner.wallet.free()\n      }\n    }\n  }, [owner])\n\n  return [owner?.contract, owner?.wallet]\n}\n\nexport function useUser(idx) {\n  const { UAXUser } = useContext(TONUAXContext)\n  const user = UAXUser(idx)\n  useEffect(() => {\n    return () => {\n      if (user) {\n        user.free()\n      }\n    }\n  }, [user])\n  return user\n}\n\n\n","import s from './Loader.module.css';\n\nfunction Loader({ color, width = 20 }) {\n  return <div className={`${s.loader} i-cycle i-rotate`} style={{ width, fontSize: width, color: color }} />\n}\n\nexport default Loader;\n","import s from './Wallet.module.css';\nimport Loader from '../Loader/Loader';\nimport { useRef, useState } from 'react';\nimport {\n  useAsync,\n  useAsyncFn,\n  useCopyToClipboard,\n} from 'react-use';\n\nimport uax from '../../uax';\n\n\nfunction WalletAddress({ address, children }) {\n  const [, copyToClipboard] = useCopyToClipboard()\n  return <div className={`${s.yadd} i-copy`} onClick={() => copyToClipboard(address)}>{children}</div>\n}\n\n\nfunction Wallet({ label, account }) {\n  const [uaxBalance, setUAXBalance] = useState('')\n  const [tonBalance, setTONBalance] = useState('')\n\n\n  useAsync(async () => {\n    // console.log('Wallet.subscribe', Date.now())\n    uax.getUAXBalance(account).then(setUAXBalance);\n    uax.getTONBalance(account).then(setTONBalance);\n    return await account.subscribeMessages(\"id,boc\", msg => {\n      account.refresh()\n      console.log('Wallet.onMessage', Date.now(), address, msg)\n      uax.getUAXBalance(account).then(setUAXBalance);\n      uax.getTONBalance(account).then(setTONBalance);\n    })\n  }, [account])\n\n  const toInput = useRef();\n  const valueInput = useRef();\n  const [sendResult, send] = useAsyncFn(async (e) => {\n    e.preventDefault()\n    try {\n      let to = toInput.current.value\n      let val = Number(valueInput.current.value)\n      if (!to.match(/^0:[a-fA-F0-9]{64}$/) || !Number.isInteger(val) || !(val > 0))\n        return\n\n      let tx = await account.run('transferTokensExt', { to: to, val: val })\n\n      console.log(`Transaction Sent (${account.address}) to=${to} val=${val}`, tx)\n      toInput.current.value = ''\n      valueInput.current.value = ''\n      return tx\n    }\n    catch (err) {\n      console.error(err)\n    }\n  }, [account])\n\n  const address = account.address\n  const addressShort = address.slice(0, 11) + ' ... ' + address.slice(-9)\n\n  const loadingBtn = <button className={s.buttonLoading}><Loader /></button>\n  const sendBtn = <button className={s.button} onClick={send}>Send</button>\n\n  return <>\n    <h3 className=\"i-card\">Wallet</h3>\n    <div className={s.spacer}></div>\n    <div className={s.wallet}>\n      <p className={s.info}>{label}</p>\n      <div className={s.value}>\n        <p className={`i-uax`}>{uaxBalance}</p>\n        <p className={`i-gas`}>{tonBalance}</p>\n      </div>\n    </div>\n    <WalletAddress address={address}>{addressShort}</WalletAddress>\n    <h3 className=\"i-path\">Transfer</h3>\n    <form className={s.block}>\n      {/* <label className=\"i-target\">To</label> */}\n      <input\n        className={s.input}\n        type=\"text\"\n        placeholder=\"Address (0:...)\"\n        ref={toInput}\n      />\n      {/* <label className=\"i-card\">Amount</label> */}\n      <input\n        className={s.input}\n        type=\"text\"\n        placeholder=\"Amount\"\n        ref={valueInput}\n      />\n      {sendResult.loading ? loadingBtn : sendBtn}\n    </form>\n  </>\n}\n\nexport default Wallet;\n","// import { useState, useContext } from 'react';\n\nimport { useUser } from \"../../uax/hooks\";\nimport Wallet from \"../Wallet\";\n\n\nfunction Demo() {\n  const u1 = useUser(1)\n  const u2 = useUser(2)\n  return (\n    <section>\n      <h2>User Wallet Demo</h2>\n      <div className=\"flex\">\n        <div className=\"container\">\n          <Wallet label=\"User 1\" account={u1}></Wallet>\n        </div>\n        <div className=\"container\">\n          <Wallet label=\"User 2\" account={u2}></Wallet>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default Demo;\n","import s from './ProposeForms.module.css';\nimport Loader from '../Loader';\n\nimport { useRef } from 'react';\nimport { useAsyncFn } from 'react-use';\n\n\nfunction PositiveIntValueForm({\n  account, method, argName, otherArgs = {},\n  inputHint = \"Positive integer value\",\n  buttonCaption = \"Send Message\"\n}) {\n  const input = useRef()\n\n  const [sendResult, send] = useAsyncFn(async (e) => {\n    e.preventDefault()\n    try {\n      let value = Number(input.current.value)\n      if (!Number.isInteger(value) || (value <= 0))\n        return\n\n      let tx = await account.run(method, { [argName]: value, ...otherArgs })\n\n      input.current.value = ''\n      console.log(`Proposal Sent (${account.address}) params=${JSON.stringify(otherArgs)} value=${value}`, tx)\n      return tx\n    }\n    catch (err) {\n      console.error(err)\n    }\n  }, [account, method, argName, otherArgs])\n\n  const loadingBtn = <button className={s.buttonLoading}><Loader /></button>\n  const proposeBtn = <button className={s.button} onClick={send}>{buttonCaption}</button>\n  return <form className={s.block}>\n    <input\n      className={s.input}\n      type=\"text\"\n      placeholder={inputHint}\n      ref={input}\n    />\n    {sendResult.loading ? loadingBtn : proposeBtn}\n  </form>\n}\n\n\nfunction Propose({ owner, wallet }) {\n  const votingFormsParams = { argName: \"value\", method: \"propose\", account: owner }\n  const formProps = {\n    mint: {\n      otherArgs: { eType: 1 },\n      inputHint: \"Mint to Reserve\",\n      buttonCaption: \"Mint\",\n      ...votingFormsParams\n    },\n    burn: {\n      otherArgs: { eType: 2 },\n      inputHint: \"Burn from Reserve\",\n      buttonCaption: \"Burn\",\n      ...votingFormsParams\n    },\n    lock: {\n      account: wallet,\n      method: \"donateExt\",\n      argName: \"val\",\n\n      inputHint: \"Lock to Reserve\",\n      buttonCaption: \"Lock\",\n    },\n    pull: {\n      otherArgs: { eType: 3 },\n      inputHint: \"Unlock from Reserve\",\n      buttonCaption: \"Unlock\",\n      ...votingFormsParams\n    },\n    updfee: {\n      otherArgs: { eType: 4 },\n      inputHint: \"Update Fee\",\n      buttonCaption: \"Update Fee\",\n      ...votingFormsParams\n    },\n    harvest: {\n      otherArgs: { eType: 5 },\n      inputHint: \"Harvest Fee\",\n      buttonCaption: \"Harvest Fee\",\n      ...votingFormsParams\n    }\n  }\n  function proposeEventForm(eTypeStr) {\n    const props = formProps[eTypeStr]\n    return props && <PositiveIntValueForm {...props} />\n  }\n\n  return <>\n    <h3 className=\"i-chem\">UAX Reserve Operations</h3>\n    <div>\n      <div className={`flex ${s.twoforms}`}>\n        {proposeEventForm(\"mint\")} {proposeEventForm(\"burn\")}\n      </div>\n      <div className={`flex ${s.twoforms}`}>\n        {proposeEventForm(\"lock\")} {proposeEventForm(\"pull\")}\n      </div>\n    </div>\n\n    <h3 className=\"i-fee\">UAX Fee Operations</h3>\n    <div className=\"flex\">\n      {proposeEventForm(\"updfee\")} {proposeEventForm(\"harvest\")}\n    </div>\n  </>;\n}\n\nexport default Propose;\n","import s from './Vote.module.css';\nimport Loader from '../Loader'\n\nimport { useState } from 'react';\nimport { useInterval } from 'react-use';\n\nfunction getTimeLeftString(t, refresh) {\n  if (!t)\n    return \"\"\n  const now = new Date()\n  const d = (t - now) / 1000;\n  let days = Math.floor(d / (60 * 60 * 24));\n  let hours = Math.floor((d % (60 * 60 * 24)) / (60 * 60)).toString().padStart(2, \"0\")\n  let minutes = Math.floor((d % (60 * 60)) / (60)).toString().padStart(2, \"0\")\n  let seconds = Math.floor((d % (60))).toString().padStart(2, \"0\")\n  if (seconds < 0) \n    refresh()\n  return `${days} days ${hours}:${minutes}:${seconds}`\n}\n\n\nfunction Vote({ owner, proposal, refresh }) {\n  const eventTypesDisplay = {\n    \"mint\": \"mint\",\n    \"burn\": \"burn\",\n    \"withdraw\": \"withdraw\",\n    \"setfee\": \"set transfer fee\",\n    \"claimfee\": \"withdraw fee\"\n  }\n\n  const authorAlias = `Owner ${proposal.author - 10000 + 1}`\n\n  const [expireIn, setExpireIn] = useState(getTimeLeftString(proposal.expire))\n  useInterval(() => setExpireIn(getTimeLeftString(proposal.expire, refresh)), 1000)\n\n  // useAsync(async () => {\n  //   console.log('Owner.subscribe', new Date(), owner)\n  //   return await owner.subscribe(\n  //     \"messages\",\n  //     {\n  //       src: { eq: medium.address }, dst: { eq: owner.address },\n  //       OR: {\n  //         src: { eq: owner.address }, dst: { eq: medium.address }\n  //       }\n  //     },\n  //     \"id,boc,src,dst\",\n  //     async msg => {\n  //       console.log('Owner.onMessage', new Date())\n  //       let m = await ((msg.dst == medium.address) ? medium : owner).decodeMessage(msg.boc)\n  //       console.log((msg.dst == medium.address) ? 'medium' : 'owner', '->', msg.dst.slice(0, 5), m.name, m.value)\n  //       proposal.retry()\n  //     })\n  // }, [owner])\n\n  const [lastSeen, setLastSeen] = useState(null)\n  const [resolution, setResolution] = useState(null)\n  const [disableVoting, setDisableVoting] = useState(false)\n\n  const btnApproveClassName = (resolution === \"approve\") ? s.buttonvoted : s.button\n  const btnRejectClassName = (resolution === \"reject\") ? s.buttonvoted : s.button\n\n  async function resolve(positive) {\n    setDisableVoting(true)\n    let res = positive ? \"approve\" : \"reject\"\n    let result = await owner.run(res, { id: proposal.id })\n    setResolution(res)\n  }\n\n  return (\n    <div className={s.message}>\n      <span>\n        <b>{authorAlias}</b> proposed to <b>{eventTypesDisplay[proposal.type]}</b>\n        <span className=\"i-uax\">{proposal.value}</span>\n      </span>\n\n      <span className=\"i-cycle i-rotate\">Expire in {expireIn}</span>\n      <span className=\"i-eye\">Signed: {proposal.hasSigs}/{proposal.reqSigs}</span>\n\n      <div\n        className={`${btnApproveClassName} ${disableVoting ? s.buttondisabled : \"\"}`}\n        onClick={async () => await resolve(true)}>{resolution === \"approve\" ? <Loader width={10} color={'#000000'} /> : 'APPROVE'}</div>\n      <div\n        className={`${btnRejectClassName} ${disableVoting ? s.buttondisabled : \"\"}`}\n        onClick={async () => await resolve(false)}>REJECT</div>\n    </div>)\n}\n\nexport default Vote;\n","import Propose from \"./Propose\";\nimport Vote from './Vote';\nconst Owner = { Propose, Vote }\n\nexport default Owner\n","import { readPublic } from \".\"\n\nconst pendingStateID = 2\nconst eventTypes = {\n  1: \"mint\",\n  2: \"burn\",\n  3: \"withdraw\",\n  4: \"setfee\",\n  5: \"claimfee\"\n}\n\n\nexport async function lastProposalOnApproval(medium) {\n  // console.log('update last proposal')\n  medium.refresh()\n  const current = await readPublic(medium, \"_currentEvent\")\n  console.log(current)\n  if (current.state != pendingStateID)\n    return\n\n  const proposals = await readPublic(medium, \"_proposals\")\n  // let authorInfo = await readGetter(authorContract, \"getInfo\")\n  // const authorAlias = `Owner ${authorInfo.id}`\n  const proposal = proposals[current.id]\n  console.log(proposal)\n  const parsedProposal = {\n    id: Number(proposal.id),\n    type: eventTypes[proposal.eType],\n    value: Number(proposal.value),\n\n    created: new Date(proposal.createdAt * 1000),\n    expire: new Date(proposal.validUntil * 1000),\n\n    author: proposal.actor,\n    hasSigs: Number(proposal.signsAt),\n    reqSigs: Number(proposal.signsReq)\n  }\n  return parsedProposal\n}\n","import Owner from '../Owner';\nimport Wallet from '../Wallet';\n\nimport { useOwner, useUAXSystem } from '../../uax/hooks';\nimport { useAsync, useAsyncRetry } from 'react-use';\n\nimport { lastProposalOnApproval } from '../../uax/proposal';\nimport { readGetter } from '../../uax';\nimport { useEffect } from 'react';\n\nfunction useX(contract, proposal, medium) {\n\n  useAsync(async () => {\n    console.log('Owner.subscribe', new Date(), contract)\n    return await contract.subscribe(\n      \"messages\",\n      {\n        src: { eq: medium.address }, dst: { eq: contract.address },\n        OR: {\n          src: { eq: contract.address }, dst: { eq: medium.address }\n        }\n      },\n      \"id,boc,src,dst\", async msg => {\n        console.log('Owner.onMessage', new Date())\n        let m = await ((msg.dst == medium.address) ? medium : contract).decodeMessage(msg.boc)\n        console.log((msg.dst == medium.address) ? 'medium' : 'owner', '->', msg.dst.slice(0, 5), m.name, m.value)\n        proposal.retry()\n      })\n  }, [proposal.value, contract, medium])\n\n}\n\nfunction Demo1({ idx }) {\n  const [contract, wallet] = useOwner({ idx })\n  const walletEnv = useAsync(async () => wallet && readGetter(wallet, 'getEnv'), [wallet])\n  const UAXSystem = useUAXSystem()\n  const proposal = useAsyncRetry(async () => await lastProposalOnApproval(UAXSystem.Medium), [])\n  let medium = UAXSystem.Medium\n\n  console.log(`render demo for o${idx}. contract: ${contract?.address} tw: ${wallet?.address}`)\n  const isMyProposal = proposal.value?.author === walletEnv.value?.id\n  const showProposalPopup = !proposal.loading && proposal.value && !isMyProposal && proposal.value.expire > new Date()\n\n  useX(contract, proposal, medium)\n\n  return <>\n    {\n      showProposalPopup &&\n      <Owner.Vote owner={contract} proposal={proposal.value} refresh={proposal.retry} />\n    }\n    {\n      contract && wallet &&\n      <section>\n        <h2>Owner {idx}</h2>\n        <div className=\"flex\">\n\n          <div className=\"container\">\n            <Owner.Propose owner={contract} wallet={wallet} />\n          </div>\n\n          <div className=\"container\">\n            <Wallet label={`OWNER ${idx}`} account={wallet} />\n          </div>\n\n        </div>\n      </section>\n    }\n  </>\n}\n\nexport default Demo1;\n","import s from './AdminBtn.module.css';\n\nfunction Btn({ caption }) {\n  // const [wallet]\n  const loading = true;\n  const icon = \"i-bot\"\n  return (\n    // onClick={deployWallet} >\n    <button className={`${s.button} ${icon} ${loading ? \"i-rotate\" : \"\"}`} type=\"button\">\n      {caption}\n    </button>\n  );\n}\n\nexport default Btn;\n","import s from './Aside.module.css'\nimport Btn from '../AdminBtn'\nimport Loader from '../Loader'\n\nimport { useContext, useState } from 'react'\nimport { useInterval } from 'react-use'\n\nimport uax from '../../uax'\nimport { TONUAXContext } from '../../uax/context'\n\n\nfunction StatsRow({ name, value, icon, children, child }) {\n  const loading = value === null\n  const classValue = `${s.value} ${loading ? `i-cycle i-rotate ${s.valueLoading}` : \"\"}`\n  return <>\n    <div className={s.statrow}>\n      <p className={child ? s.childstatname : s.statname}>{name}</p>\n      <div className={`${icon} ${s.unit}`} />\n      <span className={classValue}>{!loading && value}</span>\n    </div>\n    {children}\n  </>\n}\n\nfunction Aside() {\n  const [stats, setStats] = useState({\n    supply: null,\n    supplyBreakdown: {\n      twTotal: null,\n      owTotal: null,\n      feeTotal: null,\n      unallocated: null,\n    },\n    wallets: null,\n    transfers: null,\n    transferFee: null,\n    accruedFee: null,\n    claimedFee: null,\n    tons: null,\n  })\n  // const [config, setConfig] = useState({\n  //   initTON: \"\",\n  //   initUAX: \"\",\n  //   warnTON: \"\",\n  //   transferFee: \"\",\n  // })\n  const { UAXSystem } = useContext(TONUAXContext)\n\n\n  useInterval(() => {\n    UAXSystem.Root.refresh()\n    UAXSystem.Medium.refresh()\n    uax.getStats(UAXSystem.Root, UAXSystem.Medium).then(setStats)\n  }, 1000)\n\n  return (\n    <aside className={s.aside}>\n      <div className={s.stats}>\n        <h2>Statistics</h2>\n        <StatsRow name=\"Wallets\" value={stats.wallets} />\n        <StatsRow name=\"Transfers\" value={stats.transfers} />\n        <StatsRow name=\"TransferFee\" value={stats.transferFee} icon=\"i-uax\" />\n        <br />\n\n        <StatsRow name=\"Supply\" value={stats.supply} icon=\"i-uax\">\n          <StatsRow child name=\"Reserve\" value={stats.supplyBreakdown.unallocated} />\n          <StatsRow child name=\"Circulating\" value={stats.supplyBreakdown.twTotal} />\n          <StatsRow child name=\"CollectedFees\" value={stats.supplyBreakdown.feeTotal} />\n        </StatsRow>\n        <br />\n\n        <StatsRow name=\"ClaimedFee\" value={stats.claimedFee} icon=\"i-uax\" />\n        <StatsRow name=\"RemainingGas\" value={stats.tons} icon=\"i-gas\" />\n      </div>\n      {/* <div className={s.stats}>\n        <h2>Settings</h2>\n        <StatsRow name=\"TransferFee\" value={config.transferFee} icon=\"i-uax\" />\n        <StatsRow name=\"InitialBalance\" value={config.initUAX} icon=\"i-uax\" />\n        <StatsRow name=\"InitialGas\" value={config.initTON} icon=\"i-gas\" />\n        <StatsRow name=\"GasReplenishThreshold\" value={config.warnTON} icon=\"i-gas\" />\n      </div> */}\n      <div>\n        <h2>Dev</h2>\n        <Btn caption=\"Create wallet\" />\n      </div>\n\n    </aside>\n  );\n}\n\nexport default Aside;\n","import s from './App.module.css';\nimport { Switch, Route } from 'react-router-dom';\n\nimport Header from './components/Header';\n\nimport Demo from './components/Demo';\nimport Demo1 from './components/Demo1';\nimport Aside from './components/Aside';\n\n\nfunction App() {\n  return (\n    <main className={s.wrapper}>\n      <div className={s.page}>\n        <Header />\n        <div className={s.main}>\n          <Aside></Aside>\n          <div className={s.desk}>\n\n            <Switch>\n              <Route exact path=\"/\">\n\n              </Route>\n              <Route exact path=\"/user\">\n                <Demo />\n              </Route>\n              <Route exact path=\"/owner/1\">\n                <Demo1 idx={1} />\n              </Route>\n              <Route exact path=\"/owner/2\">\n                <Demo1 idx={2} />\n              </Route>\n              <Route exact path=\"/owner/3\">\n                <Demo1 idx={3} />\n              </Route>\n              <Route exact path=\"/dev\">\n                \n              </Route>\n            </Switch>\n          </div>\n        </div>\n      </div>\n    </main>\n  );\n}\n\nexport default App;\n","import 'modern-normalize/modern-normalize.css';\nimport './components/flex.css';\nimport './icons.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport App from './App';\nimport { TONUAXContextProvider } from './uax/context';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <TONUAXContextProvider>\n        <App />\n      </TONUAXContextProvider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}